From: Leo Puvilland <lpuvilla0001@mymail.lausd.net>
Subject: Debian packaging added

* Upstream changes patched in a PR.
* Fixed PKGBUILDs
* Makefile added

diff -Nru ../makedeb-7.1.2-bugfix1-stable ../makedeb
--- ../makedeb-7.1.2-bugfix1-stable/debian/changelog	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/debian/changelog	2021-11-01 13:08:47.780322887 -0700
@@ -0,0 +1,59 @@
+makedeb (7.1.2+bugfix1-10) focal; urgency=medium
+
+  * Should finally fix upstream building
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Thu, 28 Oct 2021 08:10:27 -0700
+
+makedeb (7.1.2+bugfix1-9) focal; urgency=medium
+
+  * Upstream changes
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 19:38:48 -0700
+
+makedeb (7.1.2+bugfix1-8) focal; urgency=medium
+
+  * Fix find command
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 15:46:50 -0700
+
+makedeb (7.1.2+bugfix1-7) focal; urgency=medium
+
+  * typo
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 15:22:12 -0700
+
+makedeb (7.1.2+bugfix1-6) focal; urgency=medium
+
+  * Got a fix for the multiline-statement
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 15:15:08 -0700
+
+makedeb (7.1.2+bugfix1-5) focal; urgency=medium
+
+  * Fix bugs in building
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 15:03:11 -0700
+
+makedeb (7.1.2+bugfix1-4) focal; urgency=medium
+
+  * switch to copying pkgbuild
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 14:41:54 -0700
+
+makedeb (7.1.2+bugfix1-3) focal; urgency=medium
+
+  * Fix makefile
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 13:52:02 -0700
+
+makedeb (7.1.2+bugfix1-2) focal; urgency=medium
+
+  * Fix dependencies
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 13:49:40 -0700
+
+makedeb (7.1.2+bugfix1-1) focal; urgency=medium
+
+  * Initial Release.
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 10:49:02 -0700
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/debian/control ../makedeb/debian/control
--- ../makedeb-7.1.2-bugfix1-stable/debian/control	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/debian/control	2021-11-01 13:08:47.780322887 -0700
@@ -0,0 +1,14 @@
+Source: makedeb
+Section: utils
+Priority: optional
+Maintainer: Leo Puvilland <lpuvilla0001@mymail.lausd.net>
+Build-Depends: debhelper-compat (= 12), bash, binutils, tar, file, lsb-release, asciidoctor, makedeb-makepkg, python3-apt, git
+Standards-Version: 4.4.1
+Homepage: https://makedeb.hunterwittenborn.com
+Vcs-Browser: https://github.com/makedeb/makedeb
+Vcs-Git: https://github.com/makedeb/makedeb.git -b stable
+
+Package: makedeb
+Architecture: any
+Depends: ${shlibs:Depends}, ${misc:Depends}, bash, binutils, tar, file, lsb-release, asciidoctor, makedeb-makepkg, python3-apt
+Description: The modern packaging tool for Debian archives.
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/debian/copyright ../makedeb/debian/copyright
--- ../makedeb-7.1.2-bugfix1-stable/debian/copyright	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/debian/copyright	2021-11-01 13:08:47.780322887 -0700
@@ -0,0 +1,38 @@
+Format: https://www.debian.org/doc/packaging-manuals/copyright-format/1.0/
+Upstream-Name: makedeb
+Upstream-Contact: Hunter Wittenborn <hunter@hunterwittenborn.com>
+Source: https://github.com/makedeb/makedeb
+
+Files: *
+Copyright: 2021 Hunter Wittenborn <hunter@hunterwittenborn.com>
+License: GPL-2.0+
+
+Files: debian/*
+Copyright: 2021 Leo Puvilland <lpuvilla0001@mymail.lausd.net>
+License: GPL-2.0+
+
+License: GPL-2.0+
+ This package is free software; you can redistribute it and/or modify
+ it under the terms of the GNU General Public License as published by
+ the Free Software Foundation; either version 2 of the License, or
+ (at your option) any later version.
+ .
+ This package is distributed in the hope that it will be useful,
+ but WITHOUT ANY WARRANTY; without even the implied warranty of
+ MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+ GNU General Public License for more details.
+ .
+ You should have received a copy of the GNU General Public License
+ along with this program. If not, see <https://www.gnu.org/licenses/>
+ .
+ On Debian systems, the complete text of the GNU General
+ Public License version 2 can be found in "/usr/share/common-licenses/GPL-2".
+
+# Please also look if there are files or directories which have a
+# different copyright/license attached and list them here.
+# Please avoid picking licenses with terms that are more restrictive than the
+# packaged work, as it may make Debian's contributions unacceptable upstream.
+#
+# If you need, there are some extra license texts available in two places:
+#   /usr/share/debhelper/dh_make/licenses/
+#   /usr/share/common-licenses/
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/debian/makedeb-docs.docs ../makedeb/debian/makedeb-docs.docs
--- ../makedeb-7.1.2-bugfix1-stable/debian/makedeb-docs.docs	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/debian/makedeb-docs.docs	2021-11-01 13:08:47.780322887 -0700
@@ -0,0 +1,3 @@
+README.Debian
+README.source
+README
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/debian/README ../makedeb/debian/README
--- ../makedeb-7.1.2-bugfix1-stable/debian/README	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/debian/README	2021-11-01 13:08:47.776322866 -0700
@@ -0,0 +1,6 @@
+The Debian Package makedeb
+----------------------------
+
+The modern packaging tool for Debian archives
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 10:49:02 -0700
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/debian/README.source ../makedeb/debian/README.source
--- ../makedeb-7.1.2-bugfix1-stable/debian/README.source	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/debian/README.source	2021-11-01 13:08:47.776322866 -0700
@@ -0,0 +1,7 @@
+makedeb for Debian
+-----------------
+
+The modern packaging tool for Debian archives.
+
+ -- Leo Puvilland <lpuvilla0001@mymail.lausd.net>  Sun, 24 Oct 2021 10:49:02 -0700
+
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/debian/rules ../makedeb/debian/rules
--- ../makedeb-7.1.2-bugfix1-stable/debian/rules	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/debian/rules	2021-11-01 13:08:47.780322887 -0700
@@ -0,0 +1,6 @@
+#!/usr/bin/make -f
+%:
+	dh $@
+
+
+
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/debian/source/format ../makedeb/debian/source/format
--- ../makedeb-7.1.2-bugfix1-stable/debian/source/format	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/debian/source/format	2021-11-01 13:08:47.780322887 -0700
@@ -0,0 +1 @@
+3.0 (quilt)
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/docker/Dockerfile ../makedeb/docker/Dockerfile
--- ../makedeb-7.1.2-bugfix1-stable/docker/Dockerfile	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/docker/Dockerfile	1969-12-31 16:00:00.000000000 -0800
@@ -1,18 +0,0 @@
-FROM ubuntu
-
-SHELL ["/bin/bash", "-c"]
-ARG DEBIAN_FRONTEND=noninteractive
-ARG package="makedeb"
-
-RUN apt-get update
-RUN apt-get dist-upgrade -y
-
-RUN apt-get install wget curl jq gpg git ssh sudo -y
-
-RUN wget -qO - 'https://proget.hunterwittenborn.com/debian-feeds/makedeb.pub' | gpg --dearmor | tee /usr/share/keyrings/makedeb-archive-keyring.gpg &> /dev/null
-RUN echo 'deb [signed-by=/usr/share/keyrings/makedeb-archive-keyring.gpg arch=all] https://proget.hunterwittenborn.com/ makedeb main' | tee /etc/apt/sources.list.d/makedeb.list
-
-RUN apt-get update
-RUN apt-get install "${package}" -y
-
-ENTRYPOINT ["/bin/bash"]
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.drone/drone.jsonnet ../makedeb/.drone/drone.jsonnet
--- ../makedeb-7.1.2-bugfix1-stable/.drone/drone.jsonnet	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/.drone/drone.jsonnet	2021-11-01 13:09:52.236613618 -0700
@@ -14,39 +14,39 @@
 		},
 
 		commands: [
-			"sudo apt-get install openssh-client git -y",
+			"sudo apt-get install openssh-client git -yq",
 			".drone/scripts/create_tag.sh"
 		]
 	}]
 };
 
 local buildAndPublish(package_name, tag) = {
-    name: "build-and-publish-" + tag,
-    kind: "pipeline",
-    type: "docker",
-    trigger: {branch: [tag]},
+	name: "build-and-publish-" + tag,
+	kind: "pipeline",
+	type: "docker",
+	trigger: {branch: [tag]},
 	depends_on: ["create-tag-" + tag],
-    steps: [
-        {
-            name: "build-debian-package",
-            image: "proget.hunterwittenborn.com/docker/makedeb/makedeb-alpha:ubuntu-focal",
-            environment: {release_type: tag, package_name: package_name},
-            commands: [
-							"sudo apt-get install sed grep mawk git -y",
-							".drone/scripts/build.sh"
-						]
-        },
-
-        {
-            name: "publish-proget",
-            image: "proget.hunterwittenborn.com/docker/makedeb/makedeb-alpha:ubuntu-focal",
-            environment: {proget_api_key: {from_secret: "proget_api_key"}},
-            commands: [
-							"sudo apt-get install sed grep curl findutils -y",
-							".drone/scripts/publish.sh"
-						]
-        }
-    ]
+	steps: [
+		{
+			name: "build-debian-package",
+			image: "proget.hunterwittenborn.com/docker/makedeb/makedeb-alpha:ubuntu-focal",
+			environment: {release_type: tag, package_name: package_name},
+			commands: [
+				"sudo apt-get install sed grep mawk git -yq",
+				".drone/scripts/build.sh"
+			]
+        	},
+
+		{
+			name: "publish-proget",
+			image: "proget.hunterwittenborn.com/docker/makedeb/makedeb-alpha:ubuntu-focal",
+			environment: {proget_api_key: {from_secret: "proget_api_key"}},
+			commands: [
+				"sudo apt-get install sed grep curl findutils -yq",
+				".drone/scripts/publish.sh"
+			]
+		}
+	]
 };
 
 local userRepoPublish(package_name, tag, user_repo) = {
@@ -71,7 +71,7 @@
 		},
 
 		commands: [
-			"sudo apt-get install git ssh grep mawk sed -y",
+			"sudo apt-get install git ssh grep mawk sed -yq",
 			".drone/scripts/user-repo.sh"
 		]
 	}]
@@ -108,9 +108,9 @@
 	createTag("beta"),
 	createTag("alpha"),
 
-  buildAndPublish("makedeb", "stable"),
-  buildAndPublish("makedeb-beta", "beta"),
-  buildAndPublish("makedeb-alpha", "alpha"),
+	buildAndPublish("makedeb", "stable"),
+	buildAndPublish("makedeb-beta", "beta"),
+	buildAndPublish("makedeb-alpha", "alpha"),
 
 	userRepoPublish("makedeb", "stable", "mpr"),
 	userRepoPublish("makedeb-beta", "beta", "mpr"),
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/build.sh ../makedeb/.drone/scripts/build.sh
--- ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/build.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/.drone/scripts/build.sh	2021-11-01 13:09:52.236613618 -0700
@@ -1,17 +1,31 @@
 #!/usr/bin/env bash
-set -exuo pipefail
+set -e
 sudo chown 'makedeb:makedeb' ./ -R
 
-# Get variables
-pkgver="$(cat 'src/PKGBUILD' | grep '^pkgver=' | awk -F '=' '{print $2}')"
+# Build makedeb.
+export TARGET=local
+export RELEASE="${release_type}"
 
-# Copy PKGBUILD
-rm 'src/PKGBUILD'
-cp "PKGBUILDs/LOCAL/${release_type^^}.PKGBUILD" "src/PKGBUILD"
-
-# Configure PKGBUILD
-sed -i "s|pkgver={pkgver}|pkgver=${pkgver}|" 'src/PKGBUILD'
-
-# Build makedeb
-cd src
-./makedeb.sh --sync-deps --no-confirm
+read PKGVER PKGREL < <(echo "${DRONE_COMMIT_MESSAGE}" | grep '^Package Version:' | awk -F ': ' '{print $2}' | sed 's|-| |g')
+
+for i in PKGVER PKGREL; do
+	if [[ "${!i}" == "" ]]; then
+		echo "ERROR: ${i} isn't set."
+		echo "Please make sure your commit message contained a 'Package Version' line."
+		bad_commit_message="x"
+	fi
+done
+
+if [[ "${bad_commit_meesage:+x}" == "x" ]]; then
+	echo "COMMIT MESSAGE:"
+	echo "==============="
+	echo "${DRONE_COMMIT_MESSAGE}"
+	exit 1
+fi
+
+export PKGVER PKGREL
+
+cd PKGBUILD/
+./pkgbuild.sh > PKGBUILD
+
+makedeb -s --no-confirm
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/create_tag.sh ../makedeb/.drone/scripts/create_tag.sh
--- ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/create_tag.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/.drone/scripts/create_tag.sh	2021-11-01 13:09:52.236613618 -0700
@@ -1,5 +1,5 @@
 #!/usr/bin/env bash
-set -exuo pipefail
+set -e
 sudo chown 'makedeb:makedeb' ./ -R
 
 # Set up SSH
@@ -17,8 +17,23 @@
 chmod 500 "/${HOME}/.ssh/"* -R
 
 # Get current package version
-package_version="$(cat "src/PKGBUILD" | grep '^pkgver=' | awk -F '=' '{print $2}')"
+read PKGVER PKGREL < <(echo "${DRONE_COMMIT_MESSAGE}" | grep '^Package Version:' | awk -F ': ' '{print $2}' | sed 's|-| |g')
+
+for i in PKGVER PKGREL; do
+	if [[ "${!i}" == "" ]]; then
+		echo "ERROR: ${i} isn't set."
+		echo "Please make sure your commit message contained a 'Package Version' line."
+		bad_commit_message="x"
+	fi
+done
+
+if [[ "${bad_commit_meesage:+x}" == "x" ]]; then
+	echo "COMMIT MESSAGE:"
+	echo "==============="
+	echo "${DRONE_COMMIT_MESSAGE}"
+	exit 1
+fi
 
 # Create and push release
-git tag "v${package_version}-${release_type}" -am ""
-git push "ssh://git@${github_url}/makedeb/makedeb" "v${package_version}-${release_type}"
+git tag "v${PKGVER}-${release_type}" -am ""
+git push "ssh://git@${github_url}/makedeb/makedeb" "v${PKGVER}-${release_type}"
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/publish.py ../makedeb/.drone/scripts/publish.py
--- ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/publish.py	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.drone/scripts/publish.py	2021-11-01 13:08:47.776322866 -0700
@@ -0,0 +1,40 @@
+#!/usr/bin/env python3
+import re
+import requests
+
+from os import environ as env
+from requests.auth import HTTPBasicAuth
+
+commit_message = env["DRONE_COMMIT_MESSAGE"]
+commit_branch = env["DRONE_COMMIT_BRANCH"]
+proget_server = env["proget_server"]
+proget_api_key = env["proget_api_key"]
+
+for i in commit_message.splitlines():
+    current_string = re.search("Package Version: ")
+
+    if current_version != None:
+        package_version = current_string.replace("Package Version: ", "").split("-")
+        pkgver = package_version[0]
+        pkgrel = package_version[1]
+        break
+
+if commit_branch == "stable":
+    package_name = "makedeb"
+else:
+    package_name = f"makedeb-{commit_branch}"
+
+filename = f"{package_name}_{pkgver}-{pkgrel}_all.deb"
+
+with open(f"./PKGBUILD/{filename}") as file:
+    data = file.read()
+
+print("INFO: Uploading package...")
+response = post(f"https://{proget_server}/debian/packages/upload/makedeb/main/{filename}", data=data, auth=HTTPBasicAuth("api", proget_api_key))
+
+if response.status_code != 200:
+    print(f"ERROR: There was an error uploading the package {response.reason}.")
+    exit(1)
+
+print("INFO: Succesfully uploaded package.")
+exit(0)
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/publish.sh ../makedeb/.drone/scripts/publish.sh
--- ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/publish.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/.drone/scripts/publish.sh	1969-12-31 16:00:00.000000000 -0800
@@ -1,38 +0,0 @@
-#!/usr/bin/env bash
-set -e
-
-cd src
-pkgbuild_data="$(cat PKGBUILD)"
-
-component_name="$(echo "${pkgbuild_data}" | grep 'pkgname=' | sed 's|pkgname=||')"
-component_pkgver="$(echo "${pkgbuild_data}" | grep 'pkgver=' | sed 's|pkgver=||')"
-component_pkgrel="$(echo "${pkgbuild_data}" | grep 'pkgrel=' | sed 's|pkgrel=||')"
-
-# Check for build debs
-deb_packages=$(find *.deb 2> /dev/null)
-deb_packages_count=$(echo "${deb_packages}" | wc -w)
-
-if [[ "${deb_packages_count}" == "0" ]]; then
-    echo "ERROR: There doesn't appear to be any packages present."
-    exit 1
-
-elif [[ "${deb_packages_count}" -gt "1" ]]; then
-    echo "ERROR: More than one package is present."
-    exit 1
-fi
-
-# Upload packages.
-echo "Uploading ${deb_packages} to ${proget_server}..."
-
-curl_output="$(curl "https://${proget_server}/debian-packages/upload/makedeb/main/${deb_packages}" \
-            --user "api:${proget_api_key}" \
-            --upload-file "${deb_packages}")"
-
-# Verify that package was uploaded successfully.
-expected_curl_output="Package is now available at </_feeds/makedeb/main/${component_name}:all/${component_pkgver}-${component_pkgrel}>."
-
-if [[ "${curl_output}" != "${expected_curl_output}" ]]; then
-  echo "${curl_output}"
-  echo "Aborting due to unexpected output from curl."
-  exit 1
-fi
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/user-repo.sh ../makedeb/.drone/scripts/user-repo.sh
--- ../makedeb-7.1.2-bugfix1-stable/.drone/scripts/user-repo.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/.drone/scripts/user-repo.sh	2021-11-01 13:09:52.236613618 -0700
@@ -1,8 +1,26 @@
 #!/usr/bin/env bash
-set -exuo pipefail
+set -e
 sudo chown 'makedeb:makedeb' ./ -R
 
-# Set up SSH
+# Get package version.
+read PKGVER PKGREL < <(echo "${DRONE_COMMIT_MESSAGE}" | grep '^Package Version:' | awk -F ': ' '{print $2}' | sed 's|-| |g')
+
+for i in PKGVER PKGREL; do
+	if [[ "${!i}" == "" ]]; then
+		echo "ERROR: ${i} isn't set."
+		echo "Please make sure your commit message contained a 'Package Version' line."
+		bad_commit_message="x"
+	fi
+done
+
+if [[ "${bad_commit_meesage:+x}" == "x" ]]; then
+	echo "COMMIT MESSAGE:"
+	echo "==============="
+	echo "${DRONE_COMMIT_MESSAGE}"
+	exit 1
+fi
+
+# Set up SSH.
 rm -rf "/${HOME}/.ssh"
 mkdir -p "/${HOME}/.ssh"
 
@@ -23,28 +41,25 @@
 
 chmod 500 "/${HOME}/.ssh/"* -R
 
-# Clone AUR/MPR Package
+# Clone AUR/MPR Package.
 if [[ "${target_repo}" == "mpr" ]]; then
 	git clone "ssh://mpr@${mpr_url}/${package_name}.git" "${package_name}_${target_repo}"
-
 else
 	git clone "ssh://aur@${aur_url}/${package_name}.git" "${package_name}_${target_repo}"
-
 fi
 
-# Copy PKGBUILD to user repo
-rm "${package_name}_${target_repo}/PKGBUILD"
-cp "PKGBUILDs/${target_repo^^}/${release_type^^}.PKGBUILD" "${package_name}_${target_repo}/PKGBUILD"
-
-# Get current pkgver and pkgrel
-pkgver="$(cat src/PKGBUILD | grep '^pkgver=' | awk -F '=' '{print $2}')"
-pkgrel="$(cat src/PKGBUILD | grep '^pkgrel=' | awk -F '=' '{print $2}')"
+# Copy PKGBUILD to user repo.
+export TARGET="${target_repo}"
+export RELEASE="${release_type}"
+export PKGVER
+export PKGREL
 
-# Set package version in PKGBUILD
-sed -i "s|^pkgver={pkgver}|pkgver=${pkgver}|" "${package_name}_${target_repo}/PKGBUILD"
+rm "${package_name}_${target_repo}/PKGBUILD"
+cd PKGBUILD/
+./pkgbuild.sh > "../${package_name}_${target_repo}/PKGBUILD"
 
 # Create .SRCINFO file
-cd "${package_name}_${target_repo}"
+cd "../${package_name}_${target_repo}"
 
 makedeb --printsrcinfo | tee .SRCINFO
 
@@ -60,6 +75,6 @@
 
 # Commit changes and push
 git add PKGBUILD .SRCINFO
-git commit -m "Updated version to ${pkgver}-${pkgrel}"
+git commit -m "Updated version to ${PKGVER}-${PKGREL}"
 
 git push
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/COMMIT_EDITMSG ../makedeb/.git/COMMIT_EDITMSG
--- ../makedeb-7.1.2-bugfix1-stable/.git/COMMIT_EDITMSG	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/COMMIT_EDITMSG	2021-11-01 13:18:02.706917839 -0700
@@ -0,0 +1 @@
+patches dont work
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/config ../makedeb/.git/config
--- ../makedeb-7.1.2-bugfix1-stable/.git/config	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/config	2021-11-01 12:50:36.494749452 -0700
@@ -0,0 +1,11 @@
+[core]
+	repositoryformatversion = 0
+	filemode = true
+	bare = false
+	logallrefupdates = true
+[remote "origin"]
+	url = ssh://github.com/gamer4life1/makedeb
+	fetch = +refs/heads/*:refs/remotes/origin/*
+[branch "launchpad"]
+	remote = origin
+	merge = refs/heads/launchpad
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/description ../makedeb/.git/description
--- ../makedeb-7.1.2-bugfix1-stable/.git/description	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/description	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1 @@
+Unnamed repository; edit this file 'description' to name the repository.
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/HEAD ../makedeb/.git/HEAD
--- ../makedeb-7.1.2-bugfix1-stable/.git/HEAD	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/HEAD	2021-11-01 13:08:47.784322907 -0700
@@ -0,0 +1 @@
+ref: refs/heads/launchpad
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/applypatch-msg.sample ../makedeb/.git/hooks/applypatch-msg.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/applypatch-msg.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/applypatch-msg.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,15 @@
+#!/bin/sh
+#
+# An example hook script to check the commit log message taken by
+# applypatch from an e-mail message.
+#
+# The hook should exit with non-zero status after issuing an
+# appropriate message if it wants to stop the commit.  The hook is
+# allowed to edit the commit message file.
+#
+# To enable this hook, rename this file to "applypatch-msg".
+
+. git-sh-setup
+commitmsg="$(git rev-parse --git-path hooks/commit-msg)"
+test -x "$commitmsg" && exec "$commitmsg" ${1+"$@"}
+:
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/commit-msg.sample ../makedeb/.git/hooks/commit-msg.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/commit-msg.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/commit-msg.sample	2021-11-01 12:50:34.502739272 -0700
@@ -0,0 +1,24 @@
+#!/bin/sh
+#
+# An example hook script to check the commit log message.
+# Called by "git commit" with one argument, the name of the file
+# that has the commit message.  The hook should exit with non-zero
+# status after issuing an appropriate message if it wants to stop the
+# commit.  The hook is allowed to edit the commit message file.
+#
+# To enable this hook, rename this file to "commit-msg".
+
+# Uncomment the below to add a Signed-off-by line to the message.
+# Doing this in a hook is a bad idea in general, but the prepare-commit-msg
+# hook is more suited to it.
+#
+# SOB=$(git var GIT_AUTHOR_IDENT | sed -n 's/^\(.*>\).*$/Signed-off-by: \1/p')
+# grep -qs "^$SOB" "$1" || echo "$SOB" >> "$1"
+
+# This example catches duplicate Signed-off-by lines.
+
+test "" = "$(grep '^Signed-off-by: ' "$1" |
+	 sort | uniq -c | sed -e '/^[ 	]*1[ 	]/d')" || {
+	echo >&2 Duplicate Signed-off-by lines.
+	exit 1
+}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/fsmonitor-watchman.sample ../makedeb/.git/hooks/fsmonitor-watchman.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/fsmonitor-watchman.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/fsmonitor-watchman.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,109 @@
+#!/usr/bin/perl
+
+use strict;
+use warnings;
+use IPC::Open2;
+
+# An example hook script to integrate Watchman
+# (https://facebook.github.io/watchman/) with git to speed up detecting
+# new and modified files.
+#
+# The hook is passed a version (currently 1) and a time in nanoseconds
+# formatted as a string and outputs to stdout all files that have been
+# modified since the given time. Paths must be relative to the root of
+# the working tree and separated by a single NUL.
+#
+# To enable this hook, rename this file to "query-watchman" and set
+# 'git config core.fsmonitor .git/hooks/query-watchman'
+#
+my ($version, $time) = @ARGV;
+
+# Check the hook interface version
+
+if ($version == 1) {
+	# convert nanoseconds to seconds
+	# subtract one second to make sure watchman will return all changes
+	$time = int ($time / 1000000000) - 1;
+} else {
+	die "Unsupported query-fsmonitor hook version '$version'.\n" .
+	    "Falling back to scanning...\n";
+}
+
+my $git_work_tree;
+if ($^O =~ 'msys' || $^O =~ 'cygwin') {
+	$git_work_tree = Win32::GetCwd();
+	$git_work_tree =~ tr/\\/\//;
+} else {
+	require Cwd;
+	$git_work_tree = Cwd::cwd();
+}
+
+my $retry = 1;
+
+launch_watchman();
+
+sub launch_watchman {
+
+	my $pid = open2(\*CHLD_OUT, \*CHLD_IN, 'watchman -j --no-pretty')
+	    or die "open2() failed: $!\n" .
+	    "Falling back to scanning...\n";
+
+	# In the query expression below we're asking for names of files that
+	# changed since $time but were not transient (ie created after
+	# $time but no longer exist).
+	#
+	# To accomplish this, we're using the "since" generator to use the
+	# recency index to select candidate nodes and "fields" to limit the
+	# output to file names only.
+
+	my $query = <<"	END";
+		["query", "$git_work_tree", {
+			"since": $time,
+			"fields": ["name"]
+		}]
+	END
+
+	print CHLD_IN $query;
+	close CHLD_IN;
+	my $response = do {local $/; <CHLD_OUT>};
+
+	die "Watchman: command returned no output.\n" .
+	    "Falling back to scanning...\n" if $response eq "";
+	die "Watchman: command returned invalid output: $response\n" .
+	    "Falling back to scanning...\n" unless $response =~ /^\{/;
+
+	my $json_pkg;
+	eval {
+		require JSON::XS;
+		$json_pkg = "JSON::XS";
+		1;
+	} or do {
+		require JSON::PP;
+		$json_pkg = "JSON::PP";
+	};
+
+	my $o = $json_pkg->new->utf8->decode($response);
+
+	if ($retry > 0 and $o->{error} and $o->{error} =~ m/unable to resolve root .* directory (.*) is not watched/) {
+		print STDERR "Adding '$git_work_tree' to watchman's watch list.\n";
+		$retry--;
+		qx/watchman watch "$git_work_tree"/;
+		die "Failed to make watchman watch '$git_work_tree'.\n" .
+		    "Falling back to scanning...\n" if $? != 0;
+
+		# Watchman will always return all files on the first query so
+		# return the fast "everything is dirty" flag to git and do the
+		# Watchman query just to get it over with now so we won't pay
+		# the cost in git to look up each individual file.
+		print "/\0";
+		eval { launch_watchman() };
+		exit 0;
+	}
+
+	die "Watchman: $o->{error}.\n" .
+	    "Falling back to scanning...\n" if $o->{error};
+
+	binmode STDOUT, ":utf8";
+	local $, = "\0";
+	print @{$o->{files}};
+}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/post-update.sample ../makedeb/.git/hooks/post-update.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/post-update.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/post-update.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,8 @@
+#!/bin/sh
+#
+# An example hook script to prepare a packed repository for use over
+# dumb transports.
+#
+# To enable this hook, rename this file to "post-update".
+
+exec git update-server-info
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-applypatch.sample ../makedeb/.git/hooks/pre-applypatch.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-applypatch.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/pre-applypatch.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,14 @@
+#!/bin/sh
+#
+# An example hook script to verify what is about to be committed
+# by applypatch from an e-mail message.
+#
+# The hook should exit with non-zero status after issuing an
+# appropriate message if it wants to stop the commit.
+#
+# To enable this hook, rename this file to "pre-applypatch".
+
+. git-sh-setup
+precommit="$(git rev-parse --git-path hooks/pre-commit)"
+test -x "$precommit" && exec "$precommit" ${1+"$@"}
+:
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-commit.sample ../makedeb/.git/hooks/pre-commit.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-commit.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/pre-commit.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,49 @@
+#!/bin/sh
+#
+# An example hook script to verify what is about to be committed.
+# Called by "git commit" with no arguments.  The hook should
+# exit with non-zero status after issuing an appropriate message if
+# it wants to stop the commit.
+#
+# To enable this hook, rename this file to "pre-commit".
+
+if git rev-parse --verify HEAD >/dev/null 2>&1
+then
+	against=HEAD
+else
+	# Initial commit: diff against an empty tree object
+	against=$(git hash-object -t tree /dev/null)
+fi
+
+# If you want to allow non-ASCII filenames set this variable to true.
+allownonascii=$(git config --bool hooks.allownonascii)
+
+# Redirect output to stderr.
+exec 1>&2
+
+# Cross platform projects tend to avoid non-ASCII filenames; prevent
+# them from being added to the repository. We exploit the fact that the
+# printable range starts at the space character and ends with tilde.
+if [ "$allownonascii" != "true" ] &&
+	# Note that the use of brackets around a tr range is ok here, (it's
+	# even required, for portability to Solaris 10's /usr/bin/tr), since
+	# the square bracket bytes happen to fall in the designated range.
+	test $(git diff --cached --name-only --diff-filter=A -z $against |
+	  LC_ALL=C tr -d '[ -~]\0' | wc -c) != 0
+then
+	cat <<\EOF
+Error: Attempt to add a non-ASCII file name.
+
+This can cause problems if you want to work with people on other platforms.
+
+To be portable it is advisable to rename the file.
+
+If you know what you are doing you can disable this check using:
+
+  git config hooks.allownonascii true
+EOF
+	exit 1
+fi
+
+# If there are whitespace errors, print the offending file names and fail.
+exec git diff-index --check --cached $against --
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-merge-commit.sample ../makedeb/.git/hooks/pre-merge-commit.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-merge-commit.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/pre-merge-commit.sample	2021-11-01 12:50:34.502739272 -0700
@@ -0,0 +1,13 @@
+#!/bin/sh
+#
+# An example hook script to verify what is about to be committed.
+# Called by "git merge" with no arguments.  The hook should
+# exit with non-zero status after issuing an appropriate message to
+# stderr if it wants to stop the merge commit.
+#
+# To enable this hook, rename this file to "pre-merge-commit".
+
+. git-sh-setup
+test -x "$GIT_DIR/hooks/pre-commit" &&
+        exec "$GIT_DIR/hooks/pre-commit"
+:
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/prepare-commit-msg.sample ../makedeb/.git/hooks/prepare-commit-msg.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/prepare-commit-msg.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/prepare-commit-msg.sample	2021-11-01 12:50:34.502739272 -0700
@@ -0,0 +1,42 @@
+#!/bin/sh
+#
+# An example hook script to prepare the commit log message.
+# Called by "git commit" with the name of the file that has the
+# commit message, followed by the description of the commit
+# message's source.  The hook's purpose is to edit the commit
+# message file.  If the hook fails with a non-zero status,
+# the commit is aborted.
+#
+# To enable this hook, rename this file to "prepare-commit-msg".
+
+# This hook includes three examples. The first one removes the
+# "# Please enter the commit message..." help message.
+#
+# The second includes the output of "git diff --name-status -r"
+# into the message, just before the "git status" output.  It is
+# commented because it doesn't cope with --amend or with squashed
+# commits.
+#
+# The third example adds a Signed-off-by line to the message, that can
+# still be edited.  This is rarely a good idea.
+
+COMMIT_MSG_FILE=$1
+COMMIT_SOURCE=$2
+SHA1=$3
+
+/usr/bin/perl -i.bak -ne 'print unless(m/^. Please enter the commit message/..m/^#$/)' "$COMMIT_MSG_FILE"
+
+# case "$COMMIT_SOURCE,$SHA1" in
+#  ,|template,)
+#    /usr/bin/perl -i.bak -pe '
+#       print "\n" . `git diff --cached --name-status -r`
+# 	 if /^#/ && $first++ == 0' "$COMMIT_MSG_FILE" ;;
+#  *) ;;
+# esac
+
+# SOB=$(git var GIT_COMMITTER_IDENT | sed -n 's/^\(.*>\).*$/Signed-off-by: \1/p')
+# git interpret-trailers --in-place --trailer "$SOB" "$COMMIT_MSG_FILE"
+# if test -z "$COMMIT_SOURCE"
+# then
+#   /usr/bin/perl -i.bak -pe 'print "\n" if !$first_line++' "$COMMIT_MSG_FILE"
+# fi
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-push.sample ../makedeb/.git/hooks/pre-push.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-push.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/pre-push.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,53 @@
+#!/bin/sh
+
+# An example hook script to verify what is about to be pushed.  Called by "git
+# push" after it has checked the remote status, but before anything has been
+# pushed.  If this script exits with a non-zero status nothing will be pushed.
+#
+# This hook is called with the following parameters:
+#
+# $1 -- Name of the remote to which the push is being done
+# $2 -- URL to which the push is being done
+#
+# If pushing without using a named remote those arguments will be equal.
+#
+# Information about the commits which are being pushed is supplied as lines to
+# the standard input in the form:
+#
+#   <local ref> <local sha1> <remote ref> <remote sha1>
+#
+# This sample shows how to prevent push of commits where the log message starts
+# with "WIP" (work in progress).
+
+remote="$1"
+url="$2"
+
+z40=0000000000000000000000000000000000000000
+
+while read local_ref local_sha remote_ref remote_sha
+do
+	if [ "$local_sha" = $z40 ]
+	then
+		# Handle delete
+		:
+	else
+		if [ "$remote_sha" = $z40 ]
+		then
+			# New branch, examine all commits
+			range="$local_sha"
+		else
+			# Update to existing branch, examine new commits
+			range="$remote_sha..$local_sha"
+		fi
+
+		# Check for WIP commit
+		commit=`git rev-list -n 1 --grep '^WIP' "$range"`
+		if [ -n "$commit" ]
+		then
+			echo >&2 "Found WIP commit in $local_ref, not pushing"
+			exit 1
+		fi
+	fi
+done
+
+exit 0
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-rebase.sample ../makedeb/.git/hooks/pre-rebase.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-rebase.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/pre-rebase.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,169 @@
+#!/bin/sh
+#
+# Copyright (c) 2006, 2008 Junio C Hamano
+#
+# The "pre-rebase" hook is run just before "git rebase" starts doing
+# its job, and can prevent the command from running by exiting with
+# non-zero status.
+#
+# The hook is called with the following parameters:
+#
+# $1 -- the upstream the series was forked from.
+# $2 -- the branch being rebased (or empty when rebasing the current branch).
+#
+# This sample shows how to prevent topic branches that are already
+# merged to 'next' branch from getting rebased, because allowing it
+# would result in rebasing already published history.
+
+publish=next
+basebranch="$1"
+if test "$#" = 2
+then
+	topic="refs/heads/$2"
+else
+	topic=`git symbolic-ref HEAD` ||
+	exit 0 ;# we do not interrupt rebasing detached HEAD
+fi
+
+case "$topic" in
+refs/heads/??/*)
+	;;
+*)
+	exit 0 ;# we do not interrupt others.
+	;;
+esac
+
+# Now we are dealing with a topic branch being rebased
+# on top of master.  Is it OK to rebase it?
+
+# Does the topic really exist?
+git show-ref -q "$topic" || {
+	echo >&2 "No such branch $topic"
+	exit 1
+}
+
+# Is topic fully merged to master?
+not_in_master=`git rev-list --pretty=oneline ^master "$topic"`
+if test -z "$not_in_master"
+then
+	echo >&2 "$topic is fully merged to master; better remove it."
+	exit 1 ;# we could allow it, but there is no point.
+fi
+
+# Is topic ever merged to next?  If so you should not be rebasing it.
+only_next_1=`git rev-list ^master "^$topic" ${publish} | sort`
+only_next_2=`git rev-list ^master           ${publish} | sort`
+if test "$only_next_1" = "$only_next_2"
+then
+	not_in_topic=`git rev-list "^$topic" master`
+	if test -z "$not_in_topic"
+	then
+		echo >&2 "$topic is already up to date with master"
+		exit 1 ;# we could allow it, but there is no point.
+	else
+		exit 0
+	fi
+else
+	not_in_next=`git rev-list --pretty=oneline ^${publish} "$topic"`
+	/usr/bin/perl -e '
+		my $topic = $ARGV[0];
+		my $msg = "* $topic has commits already merged to public branch:\n";
+		my (%not_in_next) = map {
+			/^([0-9a-f]+) /;
+			($1 => 1);
+		} split(/\n/, $ARGV[1]);
+		for my $elem (map {
+				/^([0-9a-f]+) (.*)$/;
+				[$1 => $2];
+			} split(/\n/, $ARGV[2])) {
+			if (!exists $not_in_next{$elem->[0]}) {
+				if ($msg) {
+					print STDERR $msg;
+					undef $msg;
+				}
+				print STDERR " $elem->[1]\n";
+			}
+		}
+	' "$topic" "$not_in_next" "$not_in_master"
+	exit 1
+fi
+
+<<\DOC_END
+
+This sample hook safeguards topic branches that have been
+published from being rewound.
+
+The workflow assumed here is:
+
+ * Once a topic branch forks from "master", "master" is never
+   merged into it again (either directly or indirectly).
+
+ * Once a topic branch is fully cooked and merged into "master",
+   it is deleted.  If you need to build on top of it to correct
+   earlier mistakes, a new topic branch is created by forking at
+   the tip of the "master".  This is not strictly necessary, but
+   it makes it easier to keep your history simple.
+
+ * Whenever you need to test or publish your changes to topic
+   branches, merge them into "next" branch.
+
+The script, being an example, hardcodes the publish branch name
+to be "next", but it is trivial to make it configurable via
+$GIT_DIR/config mechanism.
+
+With this workflow, you would want to know:
+
+(1) ... if a topic branch has ever been merged to "next".  Young
+    topic branches can have stupid mistakes you would rather
+    clean up before publishing, and things that have not been
+    merged into other branches can be easily rebased without
+    affecting other people.  But once it is published, you would
+    not want to rewind it.
+
+(2) ... if a topic branch has been fully merged to "master".
+    Then you can delete it.  More importantly, you should not
+    build on top of it -- other people may already want to
+    change things related to the topic as patches against your
+    "master", so if you need further changes, it is better to
+    fork the topic (perhaps with the same name) afresh from the
+    tip of "master".
+
+Let's look at this example:
+
+		   o---o---o---o---o---o---o---o---o---o "next"
+		  /       /           /           /
+		 /   a---a---b A     /           /
+		/   /               /           /
+	       /   /   c---c---c---c B         /
+	      /   /   /             \         /
+	     /   /   /   b---b C     \       /
+	    /   /   /   /             \     /
+    ---o---o---o---o---o---o---o---o---o---o---o "master"
+
+
+A, B and C are topic branches.
+
+ * A has one fix since it was merged up to "next".
+
+ * B has finished.  It has been fully merged up to "master" and "next",
+   and is ready to be deleted.
+
+ * C has not merged to "next" at all.
+
+We would want to allow C to be rebased, refuse A, and encourage
+B to be deleted.
+
+To compute (1):
+
+	git rev-list ^master ^topic next
+	git rev-list ^master        next
+
+	if these match, topic has not merged in next at all.
+
+To compute (2):
+
+	git rev-list master..topic
+
+	if this is empty, it is fully merged to "master".
+
+DOC_END
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-receive.sample ../makedeb/.git/hooks/pre-receive.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/pre-receive.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/pre-receive.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,24 @@
+#!/bin/sh
+#
+# An example hook script to make use of push options.
+# The example simply echoes all push options that start with 'echoback='
+# and rejects all pushes when the "reject" push option is used.
+#
+# To enable this hook, rename this file to "pre-receive".
+
+if test -n "$GIT_PUSH_OPTION_COUNT"
+then
+	i=0
+	while test "$i" -lt "$GIT_PUSH_OPTION_COUNT"
+	do
+		eval "value=\$GIT_PUSH_OPTION_$i"
+		case "$value" in
+		echoback=*)
+			echo "echo from the pre-receive-hook: ${value#*=}" >&2
+			;;
+		reject)
+			exit 1
+		esac
+		i=$((i + 1))
+	done
+fi
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/hooks/update.sample ../makedeb/.git/hooks/update.sample
--- ../makedeb-7.1.2-bugfix1-stable/.git/hooks/update.sample	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/hooks/update.sample	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,128 @@
+#!/bin/sh
+#
+# An example hook script to block unannotated tags from entering.
+# Called by "git receive-pack" with arguments: refname sha1-old sha1-new
+#
+# To enable this hook, rename this file to "update".
+#
+# Config
+# ------
+# hooks.allowunannotated
+#   This boolean sets whether unannotated tags will be allowed into the
+#   repository.  By default they won't be.
+# hooks.allowdeletetag
+#   This boolean sets whether deleting tags will be allowed in the
+#   repository.  By default they won't be.
+# hooks.allowmodifytag
+#   This boolean sets whether a tag may be modified after creation. By default
+#   it won't be.
+# hooks.allowdeletebranch
+#   This boolean sets whether deleting branches will be allowed in the
+#   repository.  By default they won't be.
+# hooks.denycreatebranch
+#   This boolean sets whether remotely creating branches will be denied
+#   in the repository.  By default this is allowed.
+#
+
+# --- Command line
+refname="$1"
+oldrev="$2"
+newrev="$3"
+
+# --- Safety check
+if [ -z "$GIT_DIR" ]; then
+	echo "Don't run this script from the command line." >&2
+	echo " (if you want, you could supply GIT_DIR then run" >&2
+	echo "  $0 <ref> <oldrev> <newrev>)" >&2
+	exit 1
+fi
+
+if [ -z "$refname" -o -z "$oldrev" -o -z "$newrev" ]; then
+	echo "usage: $0 <ref> <oldrev> <newrev>" >&2
+	exit 1
+fi
+
+# --- Config
+allowunannotated=$(git config --bool hooks.allowunannotated)
+allowdeletebranch=$(git config --bool hooks.allowdeletebranch)
+denycreatebranch=$(git config --bool hooks.denycreatebranch)
+allowdeletetag=$(git config --bool hooks.allowdeletetag)
+allowmodifytag=$(git config --bool hooks.allowmodifytag)
+
+# check for no description
+projectdesc=$(sed -e '1q' "$GIT_DIR/description")
+case "$projectdesc" in
+"Unnamed repository"* | "")
+	echo "*** Project description file hasn't been set" >&2
+	exit 1
+	;;
+esac
+
+# --- Check types
+# if $newrev is 0000...0000, it's a commit to delete a ref.
+zero="0000000000000000000000000000000000000000"
+if [ "$newrev" = "$zero" ]; then
+	newrev_type=delete
+else
+	newrev_type=$(git cat-file -t $newrev)
+fi
+
+case "$refname","$newrev_type" in
+	refs/tags/*,commit)
+		# un-annotated tag
+		short_refname=${refname##refs/tags/}
+		if [ "$allowunannotated" != "true" ]; then
+			echo "*** The un-annotated tag, $short_refname, is not allowed in this repository" >&2
+			echo "*** Use 'git tag [ -a | -s ]' for tags you want to propagate." >&2
+			exit 1
+		fi
+		;;
+	refs/tags/*,delete)
+		# delete tag
+		if [ "$allowdeletetag" != "true" ]; then
+			echo "*** Deleting a tag is not allowed in this repository" >&2
+			exit 1
+		fi
+		;;
+	refs/tags/*,tag)
+		# annotated tag
+		if [ "$allowmodifytag" != "true" ] && git rev-parse $refname > /dev/null 2>&1
+		then
+			echo "*** Tag '$refname' already exists." >&2
+			echo "*** Modifying a tag is not allowed in this repository." >&2
+			exit 1
+		fi
+		;;
+	refs/heads/*,commit)
+		# branch
+		if [ "$oldrev" = "$zero" -a "$denycreatebranch" = "true" ]; then
+			echo "*** Creating a branch is not allowed in this repository" >&2
+			exit 1
+		fi
+		;;
+	refs/heads/*,delete)
+		# delete branch
+		if [ "$allowdeletebranch" != "true" ]; then
+			echo "*** Deleting a branch is not allowed in this repository" >&2
+			exit 1
+		fi
+		;;
+	refs/remotes/*,commit)
+		# tracking branch
+		;;
+	refs/remotes/*,delete)
+		# delete tracking branch
+		if [ "$allowdeletebranch" != "true" ]; then
+			echo "*** Deleting a tracking branch is not allowed in this repository" >&2
+			exit 1
+		fi
+		;;
+	*)
+		# Anything else (is there anything else?)
+		echo "*** Update hook: unknown type of update to ref $refname of type $newrev_type" >&2
+		exit 1
+		;;
+esac
+
+# --- Finished
+exit 0
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/index and ../makedeb/.git/index differ
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/info/exclude ../makedeb/.git/info/exclude
--- ../makedeb-7.1.2-bugfix1-stable/.git/info/exclude	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/info/exclude	2021-11-01 12:50:34.498739251 -0700
@@ -0,0 +1,6 @@
+# git ls-files --others --exclude-from=.git/info/exclude
+# Lines that start with '#' are comments.
+# For a project mostly in C, the following would be a good set of
+# exclude patterns (uncomment them if you want to use them):
+# *.[oa]
+# *~
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/logs/HEAD ../makedeb/.git/logs/HEAD
--- ../makedeb-7.1.2-bugfix1-stable/.git/logs/HEAD	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/logs/HEAD	2021-11-01 13:18:02.706917839 -0700
@@ -0,0 +1,5 @@
+0000000000000000000000000000000000000000 f37961fd0d22ee219b8aa53fb682f76d329b020b Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635796236 -0700	clone: from ssh://github.com/gamer4life1/makedeb
+f37961fd0d22ee219b8aa53fb682f76d329b020b 7b85e0ff46f7267d8ba5103755d7aa2b906532dc Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635796675 -0700	checkout: moving from launchpad to 7b85e0ff46f7267d8ba5103755d7aa2b906532dc
+7b85e0ff46f7267d8ba5103755d7aa2b906532dc f37961fd0d22ee219b8aa53fb682f76d329b020b Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635797327 -0700	checkout: moving from 7b85e0ff46f7267d8ba5103755d7aa2b906532dc to launchpad
+f37961fd0d22ee219b8aa53fb682f76d329b020b 969ee5de9861b38f7af219da70cf9e30392379f8 Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635797484 -0700	commit: patches :o
+969ee5de9861b38f7af219da70cf9e30392379f8 74e1c17319aa7f5b67ad610afb105709b6972c26 Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635797882 -0700	commit: patches dont work
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/logs/refs/heads/launchpad ../makedeb/.git/logs/refs/heads/launchpad
--- ../makedeb-7.1.2-bugfix1-stable/.git/logs/refs/heads/launchpad	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/logs/refs/heads/launchpad	2021-11-01 13:18:02.706917839 -0700
@@ -0,0 +1,3 @@
+0000000000000000000000000000000000000000 f37961fd0d22ee219b8aa53fb682f76d329b020b Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635796236 -0700	clone: from ssh://github.com/gamer4life1/makedeb
+f37961fd0d22ee219b8aa53fb682f76d329b020b 969ee5de9861b38f7af219da70cf9e30392379f8 Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635797484 -0700	commit: patches :o
+969ee5de9861b38f7af219da70cf9e30392379f8 74e1c17319aa7f5b67ad610afb105709b6972c26 Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635797882 -0700	commit: patches dont work
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/logs/refs/remotes/origin/HEAD ../makedeb/.git/logs/refs/remotes/origin/HEAD
--- ../makedeb-7.1.2-bugfix1-stable/.git/logs/refs/remotes/origin/HEAD	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/logs/refs/remotes/origin/HEAD	2021-11-01 12:50:36.494749452 -0700
@@ -0,0 +1 @@
+0000000000000000000000000000000000000000 7b85e0ff46f7267d8ba5103755d7aa2b906532dc Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635796236 -0700	clone: from ssh://github.com/gamer4life1/makedeb
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/logs/refs/remotes/origin/launchpad ../makedeb/.git/logs/refs/remotes/origin/launchpad
--- ../makedeb-7.1.2-bugfix1-stable/.git/logs/refs/remotes/origin/launchpad	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/logs/refs/remotes/origin/launchpad	2021-11-01 13:18:05.458931139 -0700
@@ -0,0 +1,2 @@
+f37961fd0d22ee219b8aa53fb682f76d329b020b 969ee5de9861b38f7af219da70cf9e30392379f8 Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635797487 -0700	update by push
+969ee5de9861b38f7af219da70cf9e30392379f8 74e1c17319aa7f5b67ad610afb105709b6972c26 Leo Puvilland <lpuvilla0001@mymail.lausd.net> 1635797885 -0700	update by push
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/objects/2a/3beaf5ffa1ee92af66c1e4a12d3d4cb099ef3f and ../makedeb/.git/objects/2a/3beaf5ffa1ee92af66c1e4a12d3d4cb099ef3f differ
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/objects/2f/eddcbc5445dc53372b03e188469da350bc2b87 and ../makedeb/.git/objects/2f/eddcbc5445dc53372b03e188469da350bc2b87 differ
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/objects/46/a69d1506a6b046e0a37a1e43b7a3bc66a8dbc0 and ../makedeb/.git/objects/46/a69d1506a6b046e0a37a1e43b7a3bc66a8dbc0 differ
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/objects/74/e1c17319aa7f5b67ad610afb105709b6972c26 ../makedeb/.git/objects/74/e1c17319aa7f5b67ad610afb105709b6972c26
--- ../makedeb-7.1.2-bugfix1-stable/.git/objects/74/e1c17319aa7f5b67ad610afb105709b6972c26	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/objects/74/e1c17319aa7f5b67ad610afb105709b6972c26	2021-11-01 13:18:02.706917839 -0700
@@ -0,0 +1,3 @@
+x•èÀm√0sV€ÄçÂG\.`.¿á¥¿œBâÇLŸH˜íryò”`^jÛ<u–£˚Ëõ–h	Yß‚3âÀömä—:Î:+1…kÿdÈ¿éE∆,Ïùä∆
+E+ŒÅ0ÉÜµ!.~{¥Ó“‡sMµÜ%√•ÆåàÍ6œa™Áˆg>/“Ø†úâ…{'$ƒ!˝Êv˘∑ËËÔÈ!O»ÌxÒn€◊
+âQÕ
\ No newline at end of file
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/objects/96/9ee5de9861b38f7af219da70cf9e30392379f8 and ../makedeb/.git/objects/96/9ee5de9861b38f7af219da70cf9e30392379f8 differ
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/objects/bf/9e97af29102306f657577e6664aa144cafa384 and ../makedeb/.git/objects/bf/9e97af29102306f657577e6664aa144cafa384 differ
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/objects/c3/d14ce4b8f1d2ee2009d8cbbdf80fa9b35d0ef8 and ../makedeb/.git/objects/c3/d14ce4b8f1d2ee2009d8cbbdf80fa9b35d0ef8 differ
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/objects/pack/pack-be67ce756d4f8bc744f80b96ff2a658766610dce.idx and ../makedeb/.git/objects/pack/pack-be67ce756d4f8bc744f80b96ff2a658766610dce.idx differ
Binary files ../makedeb-7.1.2-bugfix1-stable/.git/objects/pack/pack-be67ce756d4f8bc744f80b96ff2a658766610dce.pack and ../makedeb/.git/objects/pack/pack-be67ce756d4f8bc744f80b96ff2a658766610dce.pack differ
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/packed-refs ../makedeb/.git/packed-refs
--- ../makedeb-7.1.2-bugfix1-stable/.git/packed-refs	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/packed-refs	2021-11-01 12:50:36.490749432 -0700
@@ -0,0 +1,237 @@
+# pack-refs with: peeled fully-peeled sorted 
+2b8d710371bf5bd288e96299c8003162f05a6ae8 refs/remotes/origin/add-mansource
+7b85e0ff46f7267d8ba5103755d7aa2b906532dc refs/remotes/origin/alpha
+3599b98716a079c35e4ed4d865f9d77c05bbf132 refs/remotes/origin/beta
+f37961fd0d22ee219b8aa53fb682f76d329b020b refs/remotes/origin/launchpad
+5116ab5a52816089d006e1c0e429a3a3209e8368 refs/remotes/origin/stable
+05337e343858eb0252f320cc3228d44319cb61b6 refs/remotes/origin/whitesource/configure
+e8fa50cd6b4e40f0ea123f027d8539793e40127c refs/tags/v5.10.0-alpha
+^53d6f3212b186271b1e5ba196738a0e83c72e90c
+91d3a653e3bd52b2c3ff89e7073659cbe68f979f refs/tags/v5.11.0-alpha
+^75ed60bfc006e9aaea66754b1d22d429a82034ac
+6fdda6fc2659aacb3d9bea513567b95eae1e8259 refs/tags/v5.11.0-beta
+^75ed60bfc006e9aaea66754b1d22d429a82034ac
+f95c3378043d7f50f12c96e9627c13661c5819b1 refs/tags/v5.11.1-alpha
+^3fabd72a6edc87800cca5c86dce0e5cf98ffa383
+4b807124ebfa1abd66f6a8b618db09d1203e0730 refs/tags/v5.11.1-beta
+^3fabd72a6edc87800cca5c86dce0e5cf98ffa383
+9ce17f010ab5afb661f176041379d2c28652c6dd refs/tags/v5.11.2-alpha
+^cd856ea9e70aa1224399b8e651b442d4364245c3
+c7421dacb9b5a074da1efd56e790e17551b6d70d refs/tags/v5.11.2-beta
+^cd856ea9e70aa1224399b8e651b442d4364245c3
+efeb2d744cc8b9d363833f047498d0234742988d refs/tags/v5.11.3-alpha
+^826cc56ca6d6771063fc9e5ae3ac60baff8edb3e
+de6cf8ecd4c2a61b342cd6d58894b5360f4d2cad refs/tags/v5.11.3-beta
+^826cc56ca6d6771063fc9e5ae3ac60baff8edb3e
+5fda2908c4d2103e9ad0a09f393048da5fadaebf refs/tags/v5.11.4-alpha
+^a1189ff6119eac2645c26c5d8fa8e90acdc21f37
+09989144294617bca9f098b5e690ce8412833a13 refs/tags/v5.11.5-alpha
+^029001297278dc0c04d25977cce4de5d16eb1cdf
+ff3f04a7cc94fdec221252ab14564e8c6e8c1e9d refs/tags/v5.11.5-beta
+^029001297278dc0c04d25977cce4de5d16eb1cdf
+d3754f509a229b1d19d15ca54383a3d844beebf0 refs/tags/v5.11.6-alpha
+^deec54263858644f3ebb594db52e1ae9bb8a6112
+65c6ad5d248394993d8f5d823f4d5ce1124c0cf2 refs/tags/v5.12.0-alpha
+^6f94e2ef8c82b0313f717424d78da1a8c7fc8ac8
+c9901c57c8044335842963cf83af959b07059abe refs/tags/v5.13.0-alpha
+^6f801b87d353824fb912e8b43aae369d3a4534b0
+2349451ed95ee8b8f13e084a151549fb52856650 refs/tags/v5.13.1-alpha
+^8ba87400f9bca5a9c5b8e87568cde5a58225ceab
+138f793088af1a41bcb4f95b5be87fd3e0736c68 refs/tags/v5.13.2-alpha
+^4af10c1a9b1c82593ecf9f67861cd3e6aa48618a
+ab2a382c8d5c1bd41ae4117d5cddb1de99240167 refs/tags/v5.13.2-beta
+^4af10c1a9b1c82593ecf9f67861cd3e6aa48618a
+0b2d130dc8d677ad06aee9952fd4fffaa05ae022 refs/tags/v5.13.3-alpha
+^09ee77eddefa5d35dca9e558d461f2593ab37c56
+1164760599a0cce01267a39a381528e1eac0c69e refs/tags/v5.13.3-beta
+^391fd1b8981ccd9a7ff324ca501a652abe37bf3b
+fc00ecdf465e2dedd0214cfcd37781d203feb104 refs/tags/v5.14.0-alpha
+^63618efdfa402a7295bfe3de1177191a232339c9
+098724dc0b9e31dcc85b1b8e838661e824a7beed refs/tags/v5.14.1-alpha
+^16e5666b93c0592f8feb8edec15783bb910a5b87
+7739aa7d5dbdf2b95c4e16c89513d9b414738d22 refs/tags/v5.14.2-alpha
+^b36991a967bf15a2a29dc9ee27d160df899421ea
+f7702b9542461c59a5519a97e98193aa52a1b602 refs/tags/v5.15.0-alpha
+^6336169f2db117c31e14929eb060d82eb773538c
+530efe6b1208913ae191dcd67ecaac1027b9642c refs/tags/v5.15.1-alpha
+^ba45df84d325cf032c5a61678e4e873ac910fe1a
+ae3daf59275aea1bba1ecaf693a959c407b54c84 refs/tags/v5.15.2-alpha
+^04d2c54ac49aec812c87881d7c3c98c56276cab3
+065a93463ab952e25595b530918070988da50dc7 refs/tags/v5.15.3-alpha
+^023f664e5084c53d6a401a76287b017f64dbd2c0
+d19859206f78350af4945c3ea1b128b04ae62b31 refs/tags/v5.15.4-alpha
+^bdb74873d1da235cbe7f3d06749b10fff7879f4e
+03813390f6a8ad6c4f473ee2f363c6e09fcbe564 refs/tags/v5.15.5-alpha
+^3ccf2763570559edca60a805e8ad207f7c77696d
+f1ef5289d573ef6dc0a36753a84ad0013a444378 refs/tags/v5.15.6-alpha
+^b514550c898be3604a045064108c72ba0c4341db
+b85d79e763e8d9ffa28204954f98a88f1c2a08c8 refs/tags/v5.15.7-alpha
+^aa57e6bb63c28a0c2a4b64ba8674ff73914c11cf
+3617ac5f97a378a32292c0ca54442ffe3a012352 refs/tags/v5.16.0-alpha
+^255e10eb152cab27c2c212a67e4f8d2a02e27457
+ab49b55d397769c834f8865d17ea2962897c215e refs/tags/v5.16.1-alpha
+^d281d7cc86dee525e5ce73220445b6163d3e4169
+e3bac27482775423eb3620928385153f8ceadcf6 refs/tags/v5.16.1-beta
+^d281d7cc86dee525e5ce73220445b6163d3e4169
+9e1b19b77896511efbcc1fc69a1071d3bf991a80 refs/tags/v5.16.2-alpha
+^97f800290091cbc261fc99c4fa8cfb0dc1d8cbb2
+197b233a4c14b50854a3e102366731e9960201ed refs/tags/v5.17.0-alpha
+^eb9174d8da25457d70d2089f05ca1865b9742b90
+fa67bd524b2750e1acc0a58dff4dc96684bc5d5b refs/tags/v5.18.0-alpha
+^304e3fd2240c1dcd6279ba9ef800667dbf2da7bc
+bbc92fcdbd3b8ae165ccc2be2324fd1950eb7474 refs/tags/v5.9.3-alpha
+^0138d35c260325106af5f639ac6e08306d03cb5d
+9b94d0f6d0bf50bce597c53ff9b86f8f8c166456 refs/tags/v5.9.4-alpha
+^be558b3f1c3015cef54f810e78d0e16ed80a8c66
+9f4fa359bcb8efa51fd4b6796fe8e70d903dbf03 refs/tags/v5.9.4-beta
+^be558b3f1c3015cef54f810e78d0e16ed80a8c66
+2ee6450128f40a4d887472a0dec5a013643b069c refs/tags/v5.9.5-alpha
+^83ca384376671e32410fdddd5d8991b533cee3a1
+e997a89d9d2108f3705813227fde700232830b3d refs/tags/v5.9.5-beta
+^83ca384376671e32410fdddd5d8991b533cee3a1
+2bb270d784449472c917569dea7daf2b1e1aa38b refs/tags/v5.9.5-stable
+^83ca384376671e32410fdddd5d8991b533cee3a1
+ffd2773c8e7e28335f4696747b4ce1e05132eb04 refs/tags/v6.0.0-alpha
+^35e36a353a1451a9028a1a931b9f196c3380794b
+2d080118ef506926f0ee8d7ad2a799076e07de1f refs/tags/v6.0.1-alpha
+^f765e831cc98393373986bacbb8aa91695dd136c
+8d336d168e7fc49d2cf6e05f6e2169c6e99cca12 refs/tags/v6.1.0-alpha
+^efc035db93504e8398f3f93f3d2e47237c4b511c
+05613943c584198d00b512b5d485cadf176b3a84 refs/tags/v6.1.1-alpha
+^a225bd5f16e5c17b943c0ec23101766ec8c59539
+4029c63f4a115110a4bad5e8402f69614390a2fc refs/tags/v6.1.2-alpha
+^d9971ef5dbdee82f5654aab8191cc7e90cbc2af3
+8f9cf2046c64970b3273e55e54ebac265ea5eaa1 refs/tags/v6.1.3-alpha
+^332d3731f30d43bbf8370029ccaa66a7c4acc4b7
+7031c7dfea405c183aca91c04371153a6efe3fce refs/tags/v6.1.4-alpha
+^0edfb685fc924b2ca840b1b40ed5fb9407b120cf
+00f6a29b4fb79e0fee2831ca7a48580e36aa6df2 refs/tags/v6.2.0-alpha
+^6d44bc8820946e94bd13da8c2e476cf518621f63
+50dfa927b85c1d9d4ea39f145c4449817c5047b2 refs/tags/v6.2.0-beta
+^6d44bc8820946e94bd13da8c2e476cf518621f63
+e585f8115f4036cc9b355b3b68e1c10fb04a3192 refs/tags/v6.2.1-alpha
+^aea0f34474da50c2d9ae6456f594a85f3c26f914
+6fe5a0913f06020908b2114491666eba12e3ecf5 refs/tags/v6.2.2-alpha
+^e168b585e216829c77b507a918b785f3a39ccb13
+1aafd6cc4f0909140674eec649d80deef27e768e refs/tags/v6.3.0-alpha
+^2608d87270342e233928d046a8954473c28f4e0b
+4d869623485aa4e5c15ecc4dd41593ccec9741f1 refs/tags/v6.3.0-beta
+^2608d87270342e233928d046a8954473c28f4e0b
+d7013e58453285f7597e1227cd8628258f5f4f2d refs/tags/v6.3.1-alpha
+^98860179a06c95a4b5ff6d54f901ac2f079dd8bc
+aa2ad91e2fd702ce58a64b4800de97d14a18e3e9 refs/tags/v6.3.1-beta
+^98860179a06c95a4b5ff6d54f901ac2f079dd8bc
+3c72e3cd6d0325655154a4a63c90c063cc238c1b refs/tags/v6.3.1-stable
+^98860179a06c95a4b5ff6d54f901ac2f079dd8bc
+54f27a4c31212b0d4f202a7535a473ca19321969 refs/tags/v6.3.10-alpha
+^ea7be57fe4eaff0487f696b7693fdea9572ed39c
+d46eb0101915668854ebb54006d90d42217db906 refs/tags/v6.3.10-beta
+^ea7be57fe4eaff0487f696b7693fdea9572ed39c
+0d791440b2f964791f0a1c34b54a46df808da135 refs/tags/v6.3.10-stable
+^ea7be57fe4eaff0487f696b7693fdea9572ed39c
+c70a9ec2f607ae87be714506988375467ab3c200 refs/tags/v6.3.11-alpha
+^5fb428b06fe6c4b93ccbb5da009b542eff9a04cc
+8325a8d2b77b41d405750f0149fa74bc0c311bad refs/tags/v6.3.11-beta
+^5fb428b06fe6c4b93ccbb5da009b542eff9a04cc
+fa3ca3ba987a0deaed25410ece65c557123ba603 refs/tags/v6.3.11-stable
+^5fb428b06fe6c4b93ccbb5da009b542eff9a04cc
+c5f28bcb397ee61f2ad40a92104e78e7e89d905d refs/tags/v6.3.12-alpha
+^cd0fdeaf68dec2de276275ca8b20695722d96716
+c14bb592ef13f5c4f3eab72ec5da5d60f2abf421 refs/tags/v6.3.12-beta
+^cd0fdeaf68dec2de276275ca8b20695722d96716
+8f6f2348f5b62fa9698ea35ca760e800e15bdcdb refs/tags/v6.3.2-alpha
+^cfcbe1e0372357b0abf5aa1bb176af033e1fbbea
+616e259e2c9809a4bc1c8c24f7e16e1c01fe88ae refs/tags/v6.3.2-beta
+^cfcbe1e0372357b0abf5aa1bb176af033e1fbbea
+6dc3c4ae75ea9d3607c910f1acb4575dd4ade2f0 refs/tags/v6.3.2-stable
+^cfcbe1e0372357b0abf5aa1bb176af033e1fbbea
+1f62dfc4654cee714415abccb313a651330d953b refs/tags/v6.3.3-alpha
+^a82b27d78536ca8412934bfab543721f0122d8b5
+920e96fbddf6612fe6ffaeaf90f1478de3cc1d7a refs/tags/v6.3.3-beta
+^a82b27d78536ca8412934bfab543721f0122d8b5
+bb997dd1396e0f02e9a6cc1c9ad50e907ed64991 refs/tags/v6.3.3-stable
+^a82b27d78536ca8412934bfab543721f0122d8b5
+3797a464a5f520b8668ff986def9110998ca049c refs/tags/v6.3.4-alpha
+^455f004cec22a3bd78b8e4bc6f490a789614c94c
+a667433f56fc09aea07020e7acc6c25b4019e727 refs/tags/v6.3.4-beta
+^455f004cec22a3bd78b8e4bc6f490a789614c94c
+c4654f09a2112ca6afe73b33060228e1f9eabf0b refs/tags/v6.3.4-stable
+^455f004cec22a3bd78b8e4bc6f490a789614c94c
+a1d3e573026a634a43288844fee6a16a604a3a8b refs/tags/v6.3.5-alpha
+^31edcc4f02d0e39664b2194223c2a601c8f97b16
+83e048be65d123ce9869268e282638df8eb8c6e7 refs/tags/v6.3.6-alpha
+^ca0b492508cfe50dd0bd30224c1772262f365836
+ef655e7be36052e857124883c0ddac767c2419bc refs/tags/v6.3.7-alpha
+^ebc9511239199f0c9636c11fe4469cbfb2bb58ec
+3d5d64d4f01a85569fec7be8179f3fbae18a395c refs/tags/v6.3.8-alpha
+^f3999653efeed5c667e9d772b6b2adae09909226
+937d2917ac75bd7b7af55d297067b41072cabb27 refs/tags/v6.3.9-alpha
+^db82b57bd914cc8906652bdd56bc7698f02e84e1
+fd919f5e74cb44bf6afcb09167f49117f9c94045 refs/tags/v6.4.0-alpha
+^1457c49c273965d09aff7bd0c662fd8c469abccb
+de6afd0caf459f324c8004e59c016e81c35e964a refs/tags/v6.4.1-alpha
+^9a0a6f84824149125822898df598618799067cb6
+48d03dec1e22f0f05b60b2ff1d30d97e68bffdbe refs/tags/v6.4.2-alpha
+^a0cea4e0ec7dd75b3028123a3226e07ec12b7310
+7c346be76b07814d1da00562ed7e9164895360c6 refs/tags/v6.5.0-alpha
+^b39587d74cea590a1a808158466a8fd8492b3549
+ff3bbbfb3e9e29c1efeadecfaab49905bb6399ba refs/tags/v6.5.1-alpha
+^6e2a5d201ca59140128e57a23f8755c1228ae27e
+e1c7c951f9c44119d75a9706b8839fc0e4c3c1d4 refs/tags/v6.6.0-alpha
+^cadf2bb1ca94e75c0ec6a93f69ffc61a3091c050
+9e05cd99d014a7ebd0920b7a3bbd20a4b0a9bb03 refs/tags/v6.7.0-alpha
+^610236ea37b6aab5ccbdf8e58d6406ee059cb4fa
+151ee156406890643772b7e358999f1a8d95a589 refs/tags/v6.7.1-alpha
+^eac89b64b8177e518427446ddb43109f3accc349
+adadd0bd524c198a8776ebd622678214a80dd12b refs/tags/v6.7.2-alpha
+^ac0705fbf8dbf53bde812c9ede900e4ebe583612
+8337edf82441654b6aeac83c9767170f53f525f5 refs/tags/v6.7.3-alpha
+^20686e057bd07a98a4ef8d5af71dbdfd11ed429e
+e60ef2cd97ee1a394d8ee22e76c9f45ebdb7f69a refs/tags/v6.7.4-alpha
+^3cea63328881ed1e5ff68a4acbe8c36b6d4fd985
+6ebfc7c3c1e9d10dfc44b76fa6972f12f99827c5 refs/tags/v6.7.5-alpha
+^a98390e1e22428c2abe5ab47c359db2613838a4b
+a5ef9dd2eff98e0c33b6b7e2c91190bd36926db6 refs/tags/v6.7.6-alpha
+^dc3273bc1ba1d4d5419f85fbf1b9673fa4f89c07
+85f2f50c984d0dfddae2e7cec2c74ae1b3c8afc7 refs/tags/v6.7.7-alpha
+^be8fe062d6843ca3ff8c629265fba57ffdfd8528
+799cfc0d67de5412624d48f4a8f0d24b381d734f refs/tags/v6.7.8-alpha
+^5eaca07bc2acd929b215aef877ebe41cfd713d24
+42985c90ed3e19bd3ba6e0eb33aefc7c2a50cc2c refs/tags/v7.0.0-alpha
+^1539af2280569db9e32c8c659ee8abb982da714c
+e86f0ec28276d3c316163263f73acbea6e8e155c refs/tags/v7.1.0-alpha
+^afc8dd370a4521caf3b801c5060f70213cb1f9af
+b983dfe5d6dd39f9e170a69cbe5f5bf1045059b1 refs/tags/v7.1.0-beta
+^afc8dd370a4521caf3b801c5060f70213cb1f9af
+4d0757a06a1e8ebd97f85f07a127efac8f1c2d65 refs/tags/v7.1.1-alpha
+^3d47375cab03f7a758cc02ec1e6f690eab47c639
+ffe910b48639ad14f848614ab88602255d43508c refs/tags/v7.1.2-alpha
+^5116ab5a52816089d006e1c0e429a3a3209e8368
+59e1ceb92feea44de5af145c9cef7716e6cc45e2 refs/tags/v7.1.2-beta
+^5116ab5a52816089d006e1c0e429a3a3209e8368
+2cb04a3fea82ddcc661ff51fe06da1076b500ef4 refs/tags/v7.1.2-stable
+^5116ab5a52816089d006e1c0e429a3a3209e8368
+991ed87c5c9e7920a7776569444c7df08f022c40 refs/tags/v7.2.0-alpha
+^236d8e78e5736c9ce31c4a6ccfcf7eb40259b926
+da4b6b65402af6a94d740fed94fa1a4e9d4ae1dc refs/tags/v8.0.0-alpha
+^4655ae14c2b5bf587d5bb132d8ec097d2a54a8d7
+1dccb569262c0b712d35f5772c434873981b6db0 refs/tags/v8.0.1-alpha
+^07bf90e164d3994e6e14290e93289d90df442768
+3abb161206e435463373db29c7383270381b9547 refs/tags/v8.0.2-alpha
+^dba1ffbe418fa8f61ffdf05142d5925164882a88
+7e5436988e67d154e28c78d3311dc8b71a62ae1c refs/tags/v8.0.3-alpha
+^357ba5b767c1592bd0a5f7ae69ae87e2139d6897
+e7fb35e850f2b4415195a0302ef51cd12379087f refs/tags/v8.0.4-alpha
+^20f96b08a49c2fdbf50a0c8ecdb13b6e2ffdc1c5
+0481dae476f313e82b7d5180dd71bfb0c427bfd2 refs/tags/v8.0.5-alpha
+^65a2046f68f0e4d0ec754f06659c5efae0abfb64
+ebd7fc534b120e920ca191db864f34f7c40429a3 refs/tags/v8.0.6-alpha
+^05a73f9ea0b9e9c7d39f19f780a9f9e09454e75f
+b0094c65f6fe04a8b19fff1a8364e37b970e3dcc refs/tags/v8.0.7-alpha
+^36eeab2b0c7e836d4c5dc72b6f7f0fb1f6553ee4
+e3ca0e44bdb87c38f45f5f53fa7b09bb8e460e43 refs/tags/v8.0.7-beta
+^36eeab2b0c7e836d4c5dc72b6f7f0fb1f6553ee4
+9b5dbb8581cae783ea599e186d7550a6e9a9800a refs/tags/v8.1.0-alpha
+^3599b98716a079c35e4ed4d865f9d77c05bbf132
+6e9ce240e68f820d506d659ce141cd3412e2b48c refs/tags/v8.1.0-beta
+^3599b98716a079c35e4ed4d865f9d77c05bbf132
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/refs/heads/launchpad ../makedeb/.git/refs/heads/launchpad
--- ../makedeb-7.1.2-bugfix1-stable/.git/refs/heads/launchpad	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/refs/heads/launchpad	2021-11-01 13:18:02.706917839 -0700
@@ -0,0 +1 @@
+74e1c17319aa7f5b67ad610afb105709b6972c26
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/refs/remotes/origin/HEAD ../makedeb/.git/refs/remotes/origin/HEAD
--- ../makedeb-7.1.2-bugfix1-stable/.git/refs/remotes/origin/HEAD	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/refs/remotes/origin/HEAD	2021-11-01 12:50:36.494749452 -0700
@@ -0,0 +1 @@
+ref: refs/remotes/origin/alpha
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.git/refs/remotes/origin/launchpad ../makedeb/.git/refs/remotes/origin/launchpad
--- ../makedeb-7.1.2-bugfix1-stable/.git/refs/remotes/origin/launchpad	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.git/refs/remotes/origin/launchpad	2021-11-01 13:18:05.458931139 -0700
@@ -0,0 +1 @@
+74e1c17319aa7f5b67ad610afb105709b6972c26
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/.gitignore ../makedeb/.gitignore
--- ../makedeb-7.1.2-bugfix1-stable/.gitignore	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/.gitignore	2021-11-01 13:08:47.776322866 -0700
@@ -0,0 +1,5 @@
+debian/files
+debian/.debhelper/
+debian/debhelper-build-stamp
+debian/makedeb
+debian/makedeb.substvars
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/Makefile ../makedeb/Makefile
--- ../makedeb-7.1.2-bugfix1-stable/Makefile	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/Makefile	2021-11-01 13:09:56.380632323 -0700
@@ -0,0 +1,39 @@
+MAKEDEB_MAN_EPOCH = "$(shell git log -1 --pretty='%ct' man/makedeb.8.adoc)"
+PKGBUILD_MAN_EPOCH = "$(shell git log -1 --pretty='%ct' man/pkgbuild.5.adoc)"
+LATEST_STABLE_VERSION = "$(shell git tag | grep 'stable$$' | sort -Vr | head -n 1 | sed -e 's|-stable$$||' -e 's|^v||' )"
+.ONESHELL:
+
+all:
+	true
+
+prepare:
+	sed -i 's|$$$${pkgver}|$(PKGVER)|' src/makedeb.sh
+	sed -i 's|$$$${release}|$(RELEASE)|' src/makedeb.sh
+	sed -i 's|$$$${target}|$(TARGET)|' src/makedeb.sh
+	find src/makedeb.sh src/functions/ -type f -exec sed -i 's|^.*# REMOVE AT PACKAGING$$||' '{}' \;
+	
+	sed -i 's|$$$${pkgver}|$(PKGVER)|' man/makedeb.8.adoc
+	sed -i 's|$$$${pkgver}|$(PKGVER)|' man/pkgbuild.5.adoc
+
+package:
+	mkdir -p "$(DESTDIR)/usr/bin"
+	echo '#!/usr/bin/env bash' > "$(DESTDIR)/usr/bin/makedeb"
+	find src/functions/ -type f -exec cat '{}' \; >> "$(DESTDIR)/usr/bin/makedeb"
+	cat "src/makedeb.sh" >> "$(DESTDIR)/usr/bin/makedeb"
+	chmod 755 "$(DESTDIR)/usr/bin/makedeb"
+	
+	cd ./src/utils
+	find ./ -type f -exec install -Dm 755 '{}' "$(DESTDIR)/usr/share/makedeb/utils/{}" \;
+	cd ../../
+	
+	export SOURCE_DATE_EPOCH="$(MAKEDEB_MAN_EPOCH)"
+	asciidoctor -b manpage man/makedeb.8.adoc -o "$(DESTDIR)/usr/share/man/man8/makedeb.8"
+	
+	export SOURCE_DATE_EPOCH="$(PKGBUILD_MAN_EPOCH)"
+	asciidoctor -b manpage man/pkgbuild.5.adoc -o "$(DESTDIR)/usr/share/man/man5/pkgbuild.5"
+
+# This is for use by dpkg-buildpackage. Please use prepare and package instead.
+install:
+	$(MAKE) prepare PKGVER="$(LATEST_STABLE_VERSION)" RELEASE=stable TARGET=local
+	$(MAKE) package DESTDIR="$(DESTDIR)"
+
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/man/makedeb.8.adoc ../makedeb/man/makedeb.8.adoc
--- ../makedeb-7.1.2-bugfix1-stable/man/makedeb.8.adoc	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/man/makedeb.8.adoc	2021-11-01 13:09:59.904648242 -0700
@@ -2,6 +2,7 @@
 :doctype: manpage
 :hardbreaks:
 :manmanual: makedeb manual pages
+:mansource: MAKEDEB $${pkgver}
 
 == NAME
 makedeb - the modern packaging tool for Debian archives
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/man/pkgbuild.5.adoc ../makedeb/man/pkgbuild.5.adoc
--- ../makedeb-7.1.2-bugfix1-stable/man/pkgbuild.5.adoc	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/man/pkgbuild.5.adoc	2021-11-01 13:09:59.904648242 -0700
@@ -2,6 +2,7 @@
 :doctype: manpage
 :hardbreaks:
 :manmanual: makedeb manual pages
+:mansource: MAKEDEB $${pkgver}
 
 == NAME
 PKGBUILD - file format used by makedeb(8)
@@ -147,10 +148,10 @@
 *postinst (optional, function, array)*::
   A string that specifies the path to a script to execute after a package is unpacked onto a user's system.
 
-*postinst (optional, function, array)*::
+*prerm (optional, function, array)*::
   A string that specifies the path to a script to execute before a package is removed from a user's system.
 
-*postinst (optional, function, array)*::
+*postrm (optional, function, array)*::
   A string that specifies the path to a script to execute after a package is removed from a user's system.
 
 === OTHER
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILD/pkgbuild.sh ../makedeb/PKGBUILD/pkgbuild.sh
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILD/pkgbuild.sh	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/PKGBUILD/pkgbuild.sh	2021-11-01 13:08:47.776322866 -0700
@@ -0,0 +1,130 @@
+#!/usr/bin/env bash
+set -e
+
+# Bases.
+targets=('local' 'mpr' 'aur')
+releases=('stable' 'beta' 'alpha')
+
+base_stable_conflicts=('makedeb-beta' 'makedeb-alpha')
+base_beta_conflicts=('makedeb' 'makedeb-alpha')
+base_alpha_conflicts=('makedeb' 'makedeb-beta')
+
+base_debian_depends=('apt' 'bash' 'binutils' 'file' 'lsb-release' 'python3' 'python3-apt' 'tar')
+base_debian_makedepends=('asciidoctor' 'git')
+
+base_arch_depends=('tar' 'binutils' 'lsb-release' 'dpkg' 'asciidoctor')
+base_arch_makedepends=("${base_debian_makedepends[@]}")
+
+# Depends.
+local_stable_depends=("${base_debian_depends[@]}" 'makedeb-makepkg')
+local_beta_depends=("${base_debian_depends[@]}" 'makedeb-makepkg-beta')
+local_alpha_depends=("${base_debian_depends[@]}" 'makedeb-makepkg-alpha')
+
+mpr_stable_depends=("${local_stable_depends[@]}")
+mpr_beta_depends=("${local_beta_depends[@]}")
+mpr_alpha_depends=("${local_alpha_depends[@]}")
+
+aur_stable_depends=("${base_arch_depends[@]}" 'makedeb-makepkg')
+aur_beta_depends=("${base_arch_depends[@]}" 'makedeb-makepkg-beta')
+aur_alpha_depends=("${base_arch_depends[@]}" 'makedeb-makepkg-alpha')
+
+# Makedepends.
+local_stable_makedepends=("${base_debian_makedepends[@]}")
+local_beta_makedepends=("${base_debian_makedepends[@]}")
+local_alpha_makedepends=("${base_debian_makedepends[@]}")
+
+mpr_stable_makedepends=("${base_debian_makedepends[@]}")
+mpr_beta_makedepends=("${base_debian_makedepends[@]}")
+mpr_alpha_makedepends=("${base_debian_makedepends[@]}")
+
+aur_stable_makedepends=("${base_arch_makedepends[@]}")
+aur_beta_makedepends=("${base_arch_makedepends[@]}")
+aur_alpha_makedepends=("${base_arch_makedepends[@]}")
+
+# Conflicts
+local_stable_conflicts=("${base_stable_conflicts[@]}")
+local_beta_conflicts=("${base_beta_conflicts[@]}")
+local_alpha_conflicts=("${base_alpha_conflicts[@]}")
+
+mpr_stable_conflicts=("${base_stable_conflicts[@]}")
+mpr_beta_conflicts=("${base_beta_conflicts[@]}")     
+mpr_alpha_conflicts=("${base_alpha_conflicts[@]}")
+
+aur_stable_conflicts=("${base_stable_conflicts[@]}")
+aur_beta_conflicts=("${base_beta_conflicts[@]}")     
+aur_alpha_conflicts=("${base_alpha_conflicts[@]}")
+
+##################
+## BEGIN SCRIPT ##
+##################
+for i in 'TARGET' 'RELEASE' 'PKGVER' 'PKGREL'; do
+	if [[ "${!i+x}" != "x" ]]; then
+		echo "${i} isn't set."
+		missing_var="x"
+	fi
+done
+
+if [[ "${missing_var+x}" == "x" ]]; then
+	exit 1
+fi
+
+for i in "${targets[@]}"; do
+	if [[ "${TARGET}" == "$i" ]]; then
+		good_target="x"
+	fi
+done
+
+for i in "${releases[@]}"; do
+	if [[ "${RELEASE}" == "$i" ]]; then
+		good_release="x"
+	fi
+done
+
+for i in 'TARGET' 'RELEASE'; do
+	var="good_${i,,}"
+
+	if [[ "${!var+x}" != "x" ]]; then
+		echo "${i} isn't set to a valid value."
+		bad_var="x"
+	fi
+done
+
+if [[ "${bad_var+x}" == "x" ]]; then
+	exit 1
+fi
+
+# Generate the PKGBUILD file.
+if [[ "${RELEASE}" == "stable" ]]; then
+	pkgname="makedeb"
+else
+	pkgname="makedeb-${RELEASE}"
+fi
+
+depends="${TARGET}_${RELEASE}_depends[@]"
+makedepends="${TARGET}_${RELEASE}_makedepends[@]"
+conflicts="${TARGET}_${RELEASE}_conflicts[@]"
+
+depends=("${!depends}")
+makedepends=("${!makedepends}")
+conflicts=("${!conflicts}")
+
+depends="${depends[@]@Q}"
+makedepends="${makedepends[@]@Q}"
+conflicts="${conflicts[@]@Q}"
+
+if [[ "${TARGET}" == "local" ]]; then
+	extra_sed_args=('-e' "s|git+\${url}|git+file://$(git rev-parse --show-toplevel)|")
+fi
+
+template="$(cat TEMPLATE.PKGBUILD)"
+
+echo "${template}" | sed -e "s|\$\${pkgname}|${pkgname}|" \
+			 -e "s|\$\${pkgver}|${PKGVER}|" \
+			 -e "s|\$\${pkgrel}|${PKGREL}|" \
+			 -e "s|\$\${release}|${RELEASE}|" \
+			 -e "s|\$\${target}|${TARGET}|" \
+			 -e "s|\$\${depends}|${depends}|" \
+			 -e "s|\$\${makedepends}|${makedepends}|" \
+			 -e "s|\$\${conflicts}|${conflicts}|" \
+			 -e "s|\$\${url}|${url}|" \
+			 "${extra_sed_args[@]}"
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILD/README.md ../makedeb/PKGBUILD/README.md
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILD/README.md	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/PKGBUILD/README.md	2021-11-01 13:08:47.776322866 -0700
@@ -0,0 +1,20 @@
+# Usage
+The `pkgbuild.sh` script generates PKGBUILDs for all releases for Debian, the MPR, and the AUR.
+
+To use, set the following variables to any of the specified values:
+
+- `TARGET`: `local`, `mpr`, or `aur`
+- `RELEASE`: `stable`, `beta`, or `alpha`
+- `PKGVER`: Any valid `pkgver` string
+- `PKGREL`: Any valid `pkgrel` string
+
+For example:
+
+```sh
+export TARGET=mpr
+export RELEASE=stable
+export PKGVER=2.3.0
+export PKGREL=1
+```
+
+Then run `./pkgbuild.sh`, which will output a generated PKGBUILD file.
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILD/TEMPLATE.PKGBUILD ../makedeb/PKGBUILD/TEMPLATE.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILD/TEMPLATE.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/PKGBUILD/TEMPLATE.PKGBUILD	2021-11-01 13:08:47.776322866 -0700
@@ -0,0 +1,27 @@
+# Maintainer: Hunter Wittenborn <hunter@hunterwittenborn.com>
+_release=$${release}
+_target=$${target}
+
+pkgname=$${pkgname}
+pkgver=$${pkgver}
+pkgrel=$${pkgrel}
+pkgdesc="The modern packaging tool for Debian archives (${_release} release)"
+arch=('any')
+license=('GPL3')
+depends=($${depends})
+makedepends=($${makedepends})
+conflicts=($${conflicts})
+url="https://github.com/makedeb/makedeb"
+
+source=("makedeb::git+${url}/#tag=v${pkgver}-${_release}")
+sha256sums=('SKIP')
+
+prepare() {
+	cd makedeb/
+	make prepare PKGVER="${pkgver}" RELEASE="${_release}" TARGET="${_target}"
+}
+
+package() {
+	cd makedeb/
+	make package DESTDIR="${pkgdir}"
+}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/AUR/ALPHA.PKGBUILD ../makedeb/PKGBUILDs/AUR/ALPHA.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/AUR/ALPHA.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/AUR/ALPHA.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,56 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=alpha
-
-pkgname=makedeb-alpha
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (${_release_type} release)"
-arch=('any')
-license=('GPL3')
-depends=('tar' 'binutils' 'lsb-release' 'dpkg' 'asciidoctor' 'makedeb-makepkg-alpha')
-makedepends=('git')
-conflicts=('makedeb' 'makedeb-beta')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+${url}/#tag=v${pkgver}-${_release_type}")
-sha256sums=('SKIP')
-
-prepare() {
-  cd makedeb/
-
-  # Set package version, release type, and target OS
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|"  src/makedeb.sh
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" src/makedeb.sh
-  sed -i 's|target_os="debian"|target_os="arch"|' src/makedeb.sh
-
-  # Remove testing commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' src/makedeb.sh
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd makedeb/
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/AUR/BETA.PKGBUILD ../makedeb/PKGBUILDs/AUR/BETA.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/AUR/BETA.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/AUR/BETA.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,56 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=beta
-
-pkgname=makedeb-beta
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (${_release_type} release)"
-arch=('any')
-license=('GPL3')
-depends=('tar' 'binutils' 'lsb-release' 'dpkg' 'asciidoctor' 'makedeb-makepkg-beta')
-makedepends=('git')
-conflicts=('makedeb' 'makedeb-alpha')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+${url}/#tag=v${pkgver}-${_release_type}")
-sha256sums=('SKIP')
-
-prepare() {
-  cd makedeb/
-
-  # Set package version, release type, and target OS
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|"  src/makedeb.sh
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" src/makedeb.sh
-  sed -i 's|target_os="debian"|target_os="arch"|' src/makedeb.sh
-
-  # Remove testing commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' src/makedeb.sh
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd makedeb/
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/AUR/STABLE.PKGBUILD ../makedeb/PKGBUILDs/AUR/STABLE.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/AUR/STABLE.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/AUR/STABLE.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,56 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=stable
-
-pkgname=makedeb
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (${_release_type} release)"
-arch=('any')
-license=('GPL3')
-depends=('tar' 'binutils' 'lsb-release' 'dpkg' 'asciidoctor' 'makedeb-makepkg')
-makedepends=('git')
-conflicts=('makedeb-beta' 'makedeb-alpha')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+${url}/#tag=v${pkgver}-${_release_type}")
-sha256sums=('SKIP')
-
-prepare() {
-  cd makedeb/
-
-  # Set package version, release type, and target OS
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|"  src/makedeb.sh
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" src/makedeb.sh
-  sed -i 's|target_os="debian"|target_os="arch"|' src/makedeb.sh
-
-  # Remove testing commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' src/makedeb.sh
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd makedeb/
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/LOCAL/ALPHA.PKGBUILD ../makedeb/PKGBUILDs/LOCAL/ALPHA.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/LOCAL/ALPHA.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/LOCAL/ALPHA.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,58 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=alpha
-
-# Used to obtain folder names for local repository
-_gitdir=$(git rev-parse --show-toplevel)
-_foldername=$(basename "${_gitdir}")
-
-pkgname=makedeb-alpha
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (alpha release)"
-arch=('any')
-license=('GPL3')
-depends=('bash' 'binutils' 'tar' 'file' 'lsb-release' 'asciidoctor' 'makedeb-makepkg-alpha')
-optdepends=('r!apt')
-conflicts=('makedeb' 'makedeb-beta')
-provides=('makedeb')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+file://${_gitdir}")
-sha256sums=('SKIP')
-
-prepare() {
-  # Set package version and release type
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|" "${_foldername}/src/makedeb.sh"
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" "${_foldername}/src/makedeb.sh"
-
-  # Remove prebuild commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' "${_foldername}/src/makedeb.sh"
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd "${srcdir}/${_foldername}"
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/LOCAL/BETA.PKGBUILD ../makedeb/PKGBUILDs/LOCAL/BETA.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/LOCAL/BETA.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/LOCAL/BETA.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,58 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=beta
-
-# Used to obtain folder names for local repository
-_gitdir=$(git rev-parse --show-toplevel)
-_foldername=$(basename "${_gitdir}")
-
-pkgname=makedeb-beta
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (beta release)"
-arch=('any')
-license=('GPL3')
-depends=('bash' 'binutils' 'tar' 'file' 'lsb-release' 'asciidoctor' 'makedeb-makepkg-beta')
-optdepends=('r!apt')
-conflicts=('makedeb' 'makedeb-alpha')
-provides=('makedeb')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+file://${_gitdir}")
-sha256sums=('SKIP')
-
-prepare() {
-  # Set package version and release type
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|" "${_foldername}/src/makedeb.sh"
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" "${_foldername}/src/makedeb.sh"
-
-  # Remove prebuild commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' "${_foldername}/src/makedeb.sh"
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd "${srcdir}/${_foldername}"
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/LOCAL/STABLE.PKGBUILD ../makedeb/PKGBUILDs/LOCAL/STABLE.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/LOCAL/STABLE.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/LOCAL/STABLE.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,57 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=stable
-
-# Used to obtain folder names for local repository
-_gitdir=$(git rev-parse --show-toplevel)
-_foldername=$(basename "${_gitdir}")
-
-pkgname=makedeb
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (stable release)"
-arch=('any')
-license=('GPL3')
-depends=('bash' 'binutils' 'tar' 'file' 'lsb-release' 'asciidoctor' 'makedeb-makepkg')
-optdepends=('r!apt')
-conflicts=('makedeb-beta' 'makedeb-alpha')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+file://${_gitdir}")
-sha256sums=('SKIP')
-
-prepare() {
-  # Set package version and release type
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|" "${_foldername}/src/makedeb.sh"
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" "${_foldername}/src/makedeb.sh"
-
-  # Remove prebuild commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' "${_foldername}/src/makedeb.sh"
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd "${srcdir}/${_foldername}"
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/MPR/ALPHA.PKGBUILD ../makedeb/PKGBUILDs/MPR/ALPHA.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/MPR/ALPHA.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/MPR/ALPHA.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,56 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=alpha
-
-pkgname=makedeb-alpha
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (${_release_type} release)"
-arch=('any')
-license=('GPL3')
-depends=('bash' 'binutils' 'tar' 'file' 'lsb-release' 'asciidoctor' 'makedeb-makepkg-alpha')
-makedepends=('git')
-optdepends=('apt' 'git')
-conflicts=('makedeb' 'makedeb-beta')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+${url}/#tag=v${pkgver}-${_release_type}")
-sha256sums=('SKIP')
-
-prepare() {
-  cd makedeb/
-
-  # Set package version and release type
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|"  src/makedeb.sh
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" src/makedeb.sh
-
-  # Remove testing commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' src/makedeb.sh
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd makedeb/
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/MPR/BETA.PKGBUILD ../makedeb/PKGBUILDs/MPR/BETA.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/MPR/BETA.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/MPR/BETA.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,56 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=beta
-
-pkgname=makedeb-beta
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (${_release_type} release)"
-arch=('any')
-license=('GPL3')
-depends=('bash' 'binutils' 'tar' 'file' 'lsb-release' 'asciidoctor' 'makedeb-makepkg-beta')
-makedepends=('git')
-optdepends=('apt' 'git')
-conflicts=('makedeb' 'makedeb-alpha')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+${url}/#tag=v${pkgver}-${_release_type}")
-sha256sums=('SKIP')
-
-prepare() {
-  cd makedeb/
-
-  # Set package version and release type
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|"  src/makedeb.sh
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" src/makedeb.sh
-
-  # Remove testing commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' src/makedeb.sh
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd makedeb/
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/MPR/STABLE.PKGBUILD ../makedeb/PKGBUILDs/MPR/STABLE.PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/MPR/STABLE.PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/MPR/STABLE.PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,56 +0,0 @@
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-_release_type=stable
-
-pkgname=makedeb
-pkgver={pkgver}
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (${_release_type} release)"
-arch=('any')
-license=('GPL3')
-depends=('bash' 'binutils' 'tar' 'file' 'lsb-release' 'asciidoctor' 'makedeb-makepkg')
-makedepends=('git')
-optdepends=('apt' 'git')
-conflicts=('makedeb-beta' 'makedeb-alpha')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+${url}/#tag=v${pkgver}-${_release_type}")
-sha256sums=('SKIP')
-
-prepare() {
-  cd makedeb/
-
-  # Set package version and release type
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|"  src/makedeb.sh
-  sed -i "s|makedeb_release_type=.*|makedeb_release_type=${_release_type}|" src/makedeb.sh
-
-  # Remove testing commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' src/makedeb.sh
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd makedeb/
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/README.md ../makedeb/PKGBUILDs/README.md
--- ../makedeb-7.1.2-bugfix1-stable/PKGBUILDs/README.md	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/PKGBUILDs/README.md	1969-12-31 16:00:00.000000000 -0800
@@ -1,3 +0,0 @@
-Some of the variables inside these PKGBUILDs (variables without `$` characters) are taken from `src/PKGBUILD` during CI deployments.
-
-To find the relevant variables, find the corresponding value in `src/PKGBUILD`, which will be located under the same variable name.
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/arg_check.sh ../makedeb/src/functions/arg_check.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/arg_check.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/arg_check.sh	2021-11-01 13:09:36.000000000 -0700
@@ -7,6 +7,7 @@
   declare -Ag makedeb_args=()
   declare -ag apt_args=()
   declare -ag makepkg_args=()
+  declare -ag pacman_args=()
 
   # Actual argument check
   if [[ "${target_os}" == "debian" ]]; then
@@ -41,18 +42,18 @@
     while [[ "${1}" != "" ]]; do
       case "${1}" in
         -A | --ignore-arch | --ignorearch) declare -g makepkg_args+=("--ignorearch") ;;
-        -d | --no-deps | --nodeps)         declare -g skip_dependency_checks="true"; declare makepkg_args+=("--nodeps") ;;
+        -d | --no-deps | --nodeps)         declare -g skip_dependency_checks="true";;
         -F | -p | --file)                  declare -g FILE="${2}"; shift ;;
         -g | --gen-integ | --geninteg)     declare -g makepkg_geninteg="true" ;;
         -h | --help)                       help; exit 0 ;;
         -H | --field)                      export  extra_control_fields+=("${2}"); shift ;;
         -Q | --no-fields)                  warning "'${1}' has been deprecated, and should not be used." ;;
-        -r | --rm-deps | --rmdeps)         declare -g remove_dependencies="true"; declare makepkg_args+=("--rmdeps") ;;
-        -s | --sync-deps | --syncdeps)     declare -g install_dependencies="true"; declare makepkg_args+=("--syncdeps") ;;
+        -r | --rm-deps | --rmdeps)         declare -g remove_dependencies="true" ;;
+        -s | --sync-deps | --syncdeps)     declare -g install_dependencies="true" ;;
         -v | --distro-packages)            warning "'${1}' has been deprecated, and should not be used." ;;
         -V | --version)                    version_info; exit 0 ;;
         --dur-check)                       declare -g dur_check="true" ;;
-        --no-confirm)                      declare -g apt_args+=("--yes"); declare -g makepkg_args+=("--noconfirm") ;;
+        --no-confirm)                      declare -g pacman_args+=("--noconfirm") ;;
         --print-control)                   declare -g print_control=1 ;;
         --print-srcinfo | --printsrcinfo)  declare -g makepkg_printsrcinfo="true" ;;
         --skip-pgp-check | --skippgpcheck) declare -g makepkg_args+=("--skippgpcheck") ;;
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/control_file/generate_optdepends_fields.sh ../makedeb/src/functions/control_file/generate_optdepends_fields.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/control_file/generate_optdepends_fields.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/control_file/generate_optdepends_fields.sh	1969-12-31 16:00:00.000000000 -0800
@@ -1,25 +0,0 @@
-generate_optdepends_fields() {
-  local recommends=()
-  local suggests=()
-
-  for i in "${optdepends[@]}"; do
-    string_value="${i/:*/}"
-
-    declare string_prefix="$(echo "${string_value}" | grep -Eo 'r!|s!')"
-
-    if [[ "${string_prefix}" == "" ]]; then
-      suggests+=("${i}")
-    else
-      program_name="$(echo "${string_value}" | sed "s|^${string_prefix}||")"
-
-      if [[ "${string_prefix}" == "r!" ]]; then
-        recommends+=("${program_name}")
-      elif [[ "${string_prefix}" == "s!" ]]; then
-        suggests+="${program_name}"
-      fi
-    fi
-  done
-
-  declare -g recommends=("${recommends[@]}")
-  declare -g suggests=("${suggests[@]}")
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/control_file/generate_prefix_fields.sh ../makedeb/src/functions/control_file/generate_prefix_fields.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/control_file/generate_prefix_fields.sh	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/src/functions/control_file/generate_prefix_fields.sh	2021-11-01 13:09:36.000000000 -0700
@@ -0,0 +1,46 @@
+generate_prefix_fields() {
+  # depends.
+  local depends_keys=("${depends[@]}")
+  local depends=()
+  local predepends=()
+  local string_prefix=""
+  local program_name=""
+  local string_value=""
+  
+  for i in "${depends_keys[@]}"; do
+    string_prefix="$(echo "${i}" | grep -o '^p!')" || true
+    
+    if [[ "${string_prefix}" == "p!" ]]; then
+      program_name="$(echo "${i}" | sed 's|^p!||')"
+      predepends+=("${program_name}")
+    else
+      depends+=("${i}")
+    fi
+  done
+      
+  # optdepends.
+  local recommends=()
+  local suggests=()
+
+  for i in "${optdepends[@]}"; do
+    string_value="${i/:*/}"
+    declare string_prefix="$(echo "${string_value}" | grep -Eo '^r!|^s!')"
+
+    if [[ "${string_prefix}" == "" ]]; then
+      suggests+=("${i}")
+    else
+      program_name="$(echo "${string_value}" | sed "s|^${string_prefix}||")"
+      if [[ "${string_prefix}" == "r!" ]]; then
+        recommends+=("${program_name}")
+      elif [[ "${string_prefix}" == "s!" ]]; then
+        suggests+=("${program_name}")
+      fi
+    fi
+  done
+
+  # Globally set all variables.
+  declare -g depends=("${depends[@]}")
+  declare -g predepends=("${predepends[@]}")
+  declare -g recommends=("${recommends[@]}")
+  declare -g suggests=("${suggests[@]}")
+}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/convert/add_dependency_commas.sh ../makedeb/src/functions/convert/add_dependency_commas.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/convert/add_dependency_commas.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/convert/add_dependency_commas.sh	2021-11-01 13:09:36.000000000 -0700
@@ -1,5 +1,6 @@
 add_dependency_commas() {
   declare -g depends=("$(echo "${depends[@]}" | sed 's| |, |g')")
+  declare -g predepends=("$(echo "${predepends[@]}" | sed 's| |, |g')")
   declare -g recommends=("$(echo "${recommends[@]}" | sed 's| |, |g')")
   declare -g suggests=("$(echo "${suggests[@]}" | sed 's| |, |g')")
   declare -g conflicts=("$(echo "${conflicts[@]}" | sed 's| |, |g')")
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/convert/convert_relationships_parentheses.sh ../makedeb/src/functions/convert/convert_relationships_parentheses.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/convert/convert_relationships_parentheses.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/convert/convert_relationships_parentheses.sh	2021-11-01 13:09:36.000000000 -0700
@@ -1,5 +1,5 @@
 convert_relationships_parentheses() {
-  for i in depends recommends suggests conflicts makedepends checkdepends provides replaces; do
+  for i in depends predepends recommends suggests conflicts makedepends checkdepends provides replaces; do
     local new_values=()
     var="${i}[@]"
 
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/convert/run_dependency_conversion.sh ../makedeb/src/functions/convert/run_dependency_conversion.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/convert/run_dependency_conversion.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/convert/run_dependency_conversion.sh	2021-11-01 13:09:36.000000000 -0700
@@ -1,5 +1,6 @@
 run_dependency_conversion() {
   check_relationships depends      "${depends[@]}"
+  check_relationships predepends   "${predepends[@]}"
   check_relationships recommends   "${recommends[@]}"
   check_relationships suggests     "${suggests[@]}"
   check_relationships conflicts    "${conflicts[@]}"
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/check_dependencies.sh ../makedeb/src/functions/dependency_checks/check_dependencies.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/check_dependencies.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/dependency_checks/check_dependencies.sh	1969-12-31 16:00:00.000000000 -0800
@@ -1,48 +0,0 @@
-check_dependencies() {
-  declare -g needed_dependencies=() \
-             bad_apt_dependencies=()
-
-  # Generate temporary deb file so we can see what dependencies are missing.
-  mkdir -p "dependency_deb/${pkgbase}/DEBIAN/"
-
-  pkgname="${pkgbase}" \
-    hide_control_output=1 \
-    generate_control "./${FILE-PKGBUILD}" "dependency_deb/${pkgbase}/DEBIAN/control"
-
-  cd "dependency_deb/${pkgbase}/"
-  build_deb "${pkgbase}"
-
-  # Dry-run install the deb file so we can see what's missing.
-  apt_output="$(localized apt-get install --dry-run "./${pkgbase}_${pkgver}_${MAKEDEB_CARCH}.deb" 2>&1 || true)"
-
-  cd ../../
-
-  # Process APT's output
-  get_apt_output needed_dependencies_temp  "The following NEW packages will be installed"
-  get_apt_output bad_apt_dependencies      "The following packages have unmet dependencies"
-
-  # Abort if unmet dependencies were found
-  if [[ "${#bad_apt_dependencies}" != "0" ]]; then
-    declare -g bad_apt_dependencies=("$(echo "${bad_apt_dependencies[@]}" | \
-                                        sed 's|\\n|\n|g' | \
-                                        # APT seems to list the name of bad
-                                        # packages after the last colon, so we
-                                        # remove everything before it.
-                                        sed 's|.*: ||g' | \
-                                        # Next, find everything up to the last
-                                        # ')', or up to the first space when
-                                        # that doesn't work.
-                                        grep -Eo '^[^)]*)|^[^ ]*' | \
-                                        sed 's|[()]||g' | \
-                                        sed 's| ||g' | \
-                                        tr -t '\n' ' ' | \
-                                        sed 's| $||')")
-
-    bad_apt_dependencies_output="$(echo "${bad_apt_dependencies[@]}" | sed 's| |, |g')"
-
-    error "The following build dependencies were unable to be satisfied: ${bad_apt_dependencies_output}"
-    exit 1
-  fi
-
-  unset bad_apt_dependencies
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/check_distro_dependencies.sh ../makedeb/src/functions/dependency_checks/check_distro_dependencies.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/check_distro_dependencies.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/dependency_checks/check_distro_dependencies.sh	2021-11-01 13:09:36.000000000 -0700
@@ -16,7 +16,7 @@
     distro_variable_string="${distro_codename}_${i}[@]"
     distro_variable_data=("${!distro_variable_string}")
 
-    if [[ "${package_data}" != "" ]]; then
+    if [[ "${distro_variable_data}" != "" ]]; then
       create_array "${i}" "${distro_variable_data[@]}"
     fi
   done
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/check_missing_dependencies.sh ../makedeb/src/functions/dependency_checks/check_missing_dependencies.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/check_missing_dependencies.sh	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/src/functions/dependency_checks/check_missing_dependencies.sh	2021-11-01 13:09:36.000000000 -0700
@@ -0,0 +1,50 @@
+check_missing_dependencies() {
+  # Get list of missing dependencies.
+  if [[ "${target_os}" == "debian" ]]; then
+    if ! missing_dependencies="$("${makedeb_utils_dir}/missing_apt_dependencies.py" "${predepends[@]}" "${depends[@]}")"; then
+      error "There was an error checking build dependencies."
+      exit 1
+    elif ! missing_build_dependencies="$("${makedeb_utils_dir}/missing_apt_dependencies.py"  "${makedepends[@]}" "${checkdepends[@]}")"; then
+      error "There was an error checking build dependencies."
+      exit 1
+    fi
+        
+  elif [[ "${target_os}" == "arch" ]]; then
+    missing_dependencies="$(pacman -T -- "${predepends[@]}" "${depends[@]}")" || true
+    missing_build_dependencies="$(pacman -T -- "${makedepends[@]}" "${checkdepends[@]}")" || true
+  fi
+  
+  # Unset variables if no missing dependencies were found.
+  for i in 'missing_dependencies' 'missing_build_dependencies'; do
+    if [[ "${!i}" == "" ]]; then
+      unset "${i}"
+    fi
+  done
+    
+  # Map output of commands to arrays.
+  mapfile -t missing_dependencies < <(echo -n "${missing_dependencies}")
+  mapfile -t missing_build_dependencies < <(echo -n "${missing_build_dependencies}")
+
+  # Create dependency arrays without relationships attached (for when removing
+  # build dependencies).
+  declare missing_dependencies_no_relations=()
+  declare missing_build_dependencies_no_relations=()
+    
+  for i in 'missing_dependencies' 'missing_build_dependencies'; do
+    declare current_array=()
+    declare var_string="${i}[@]"
+            
+    for j in "${!var_string}"; do
+      declare current_program="$(echo "${j}" | sed -E 's/<.*|>.*|=.*//')"
+      declare current_array+=("${current_program}")
+    done
+      
+    create_array "${i}_no_relations" "${current_array[@]}"
+    unset current_array
+  done
+      
+  declare -g missing_dependencies
+  declare -g missing_dependencies_no_relations=("${missing_dependencies_no_relations[@]}")
+  declare -g missing_build_dependencies
+  declare -g missing_build_dependencies_no_relations=("${missing_build_dependencies_no_relations[@]}")
+}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/get_apt_output.sh ../makedeb/src/functions/dependency_checks/get_apt_output.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/get_apt_output.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/dependency_checks/get_apt_output.sh	1969-12-31 16:00:00.000000000 -0800
@@ -1,31 +0,0 @@
-get_apt_output() {
-  local starting_line="${2}" \
-        returned_variable="${1}" \
-        returned_packages="" \
-        returned_packages_temp="" \
-        check_packages=0
-
-  mapfile -t arrayed_apt_output < <(echo "${apt_output}")
-
-  for i in "${arrayed_apt_output[@]}"; do
-    # If 'check_packages' is triggered, start processing lines until a line
-    # without a space prefix is encountered.
-    if (( "${check_packages}" )); then
-      if echo "${i}" | grep -q '^ '; then
-        if [[ "${returned_variable}" == "bad_apt_dependencies" ]]; then
-          returned_packages+="${i}\n"
-        else
-          returned_packages+="${i} "
-        fi
-      else
-        break
-      fi
-    elif echo "${i}" | grep -q "${starting_line}"; then
-      check_packages=1
-    fi
-  done
-
-  returned_packages=($(echo "${returned_packages}" | tr -s ' ' | sed -e 's|^ ||' -e 's| $||'))
-
-  create_array "${returned_variable}" "${returned_packages[@]}"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/install_depends.sh ../makedeb/src/functions/dependency_checks/install_depends.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/install_depends.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/dependency_checks/install_depends.sh	1969-12-31 16:00:00.000000000 -0800
@@ -1,36 +0,0 @@
-install_depends() {
-  local failed_dependency_installation=0
-
-  if [[ "${#needed_dependencies_temp}" != "0" ]]; then
-    # Remove all packages in 'needed_dependencies' that match package names
-    # in 'pkgname'.
-    for i in "${needed_dependencies_temp[@]}"; do
-      for j in "${pkgname[@]}"; do
-        if [[ "${i}" != "${j}" ]]; then
-          needed_dependencies+=("${i}")
-        fi
-      done
-    done
-
-    # Set needed_dependencies to be global and readonly, as we'll use it later
-    # in remove_dependencies() if the '-r' option was passed.
-    declare -gr needed_dependencies
-
-    # Return if new dependency list is equal to 0, as we have nothing to
-    # install then.
-    if [[ "${#needed_dependencies}" == "0" ]]; then
-      return
-    fi
-
-    # Install build dependencies, and mark them as automatically installed.
-    msg2 "Installing build dependencies..."
-
-    sudo apt-get install "${apt_args[@]}" -- "${needed_dependencies[@]}" || failed_dependency_installation=1
-    sudo apt-mark auto -- "${needed_dependencies[@]}" 1> /dev/null || failed_dependency_installation=1
-
-    if (( "${failed_dependency_installation}" )); then
-      error "There was an error installing build dependencies."
-      exit 1
-    fi
-  fi
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/install_missing_dependencies.sh ../makedeb/src/functions/dependency_checks/install_missing_dependencies.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/install_missing_dependencies.sh	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/src/functions/dependency_checks/install_missing_dependencies.sh	2021-11-01 13:09:36.000000000 -0700
@@ -0,0 +1,30 @@
+install_missing_dependencies() {
+  if [[ "${#missing_dependencies}" == "0" && "${#missing_build_dependencies}" == "0" ]]; then
+    return 0
+  fi
+  
+  msg2 "Installing required build dependencies..."
+  
+  if [[ "${target_os}" == "debian" ]]; then
+    if ! sudo apt-get install "${apt_args[@]}" -- "${missing_dependencies[@]}" "${missing_build_dependencies[@]}"; then
+      error "There was an error installing build dependencies."
+      exit 1
+    fi
+    
+    if ! sudo apt-mark auto -- "${missing_dependencies_no_relations[@]}" "${missing_build_dependencies_no_relations[@]}" 1> /dev/null; then
+      error "There was an error marking installed build dependencies as automatically installed."
+      error "You may need to mark the following packages as automatically installed via 'apt-mark auto':"
+      
+      for i in "${missing_dependencies_no_relations[@]}" "${missing_build_dependencies_no_relations[@]}"; do
+        msg2 "${i}"
+      done
+      exit 1
+    fi
+    
+  elif [[ "${target_os}" == "arch" ]]; then
+    if ! sudo pacman -S --asdeps "${pacman_args[@]}" -- "${missing_dependencies[@]}" "${missing_build_dependencies[@]}"; then
+      error "There was an error installing build dependencies."
+      exit 1
+    fi
+  fi
+}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/remove_dependencies.sh ../makedeb/src/functions/dependency_checks/remove_dependencies.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/remove_dependencies.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/dependency_checks/remove_dependencies.sh	1969-12-31 16:00:00.000000000 -0800
@@ -1,32 +0,0 @@
-remove_dependencies() {
-  local build_dependencies=() \
-        build_dependency_list=()
-
-  # Generate list of dependencies from 'depends' and 'makedepends'
-  build_dependencies=("$(echo -n ${makedepends[@]} ${checkdepends[@]} | \
-                        sed 's| |\n|g' | \
-                        grep -o '^[^=<>]*' | \
-                        tr -t '\n' ' ' | \
-                        sed -e 's|^ ||' -e 's| $||')")
-
-  # Only uninstall dependencies that were previously installed.
-  # 'needed_dependencies' will contain dependencies from 'depends' as well,
-  # so we remove any of those packages here by adding packages from
-  # 'makedepends' and 'checkdepends' to a new list.
-  for i in "${needed_dependencies[@]}"; do
-    for j in "${build_dependencies[@]}"; do
-      if [[ "${i}" == "${j}" ]]; then
-        build_dependency_list+=("${i}")
-      fi
-    done
-  done
-
-  # Return if new dependency list is equal to 0, as we have nothing to
-  # remove then.
-  if [[ "${#build_dependency_list}" == "0" ]]; then
-    return
-  fi
-
-  msg "Removing build dependencies..."
-  sudo apt-get purge "${build_dependency_list[@]}" "${apt_args[@]}"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/remove_installed_dependencies.sh ../makedeb/src/functions/dependency_checks/remove_installed_dependencies.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/remove_installed_dependencies.sh	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/src/functions/dependency_checks/remove_installed_dependencies.sh	2021-11-01 13:09:36.000000000 -0700
@@ -0,0 +1,21 @@
+remove_installed_dependencies() {
+  if [[ "${#missing_build_dependencies_no_relations[@]}" == "0" ]]; then
+    return 0
+  fi
+  
+  msg "Removing installed build dependencies..."
+  
+  if [[ "${target_os}" == "debian" ]]; then
+    if ! sudo apt-get purge "${apt_args[@]}" -- "${missing_build_dependencies_no_relations[@]}"; then
+      error "There was an error removing build dependencies."
+      exit 1
+    fi
+  
+  elif [[ "${target_os}" == "arch" ]]; then
+    if ! sudo pacman -R "${pacman_args[@]}" -- "${missing_build_dependencies_no_relations[@]}"; then
+      error "There was an error removing build dependencies."
+      exit 1
+    fi
+  fi
+  msg "Done."
+}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/verify_dependencies.sh ../makedeb/src/functions/dependency_checks/verify_dependencies.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/verify_dependencies.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/dependency_checks/verify_dependencies.sh	1969-12-31 16:00:00.000000000 -0800
@@ -1,35 +0,0 @@
-verify_dependencies() {
-  if [[ "${#needed_dependencies_temp}" != "0" ]]; then
-
-    # Get bare list of dependency names from control file.
-    dependencies=($(cat "dependency_deb/${pkgbase}/DEBIAN/control" | \
-                    grep '^Depends: ' | \
-                    sed 's|Depends: ||' |
-                    sed 's|, |\n|g' | \
-                    # This grep command will fail if it can't find a match, so
-                    # we add '|| true' to the end to avoid a premature exit.
-                    grep -o '^[^( ]*')) || true
-
-    # Remove all packages in 'needed_dependencies' that aren't in the list of
-    # build dependencies.
-    for i in "${needed_dependencies_temp[@]}"; do
-      for j in "${dependencies[@]}"; do
-        if [[ "${i}" == "${j}" ]]; then
-          needed_dependencies+=("${i}")
-        fi
-      done
-    done
-
-    # 'needed_dependencies' is going to be empty if the only packages in it are
-    # packages from 'pkgname', so we return if so as to not print an error for
-    # no missing dependencies.
-    if [[ "${#needed_dependencies}" == "0" ]]; then
-      return
-    fi
-
-    needed_dependencies_output="$(echo "${needed_dependencies[@]}" | sed 's| |, |g')"
-
-    error "The following build dependencies are missing: ${needed_dependencies_output}"
-    exit 1
-  fi
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/verify_no_missing_dependencies.sh ../makedeb/src/functions/dependency_checks/verify_no_missing_dependencies.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/dependency_checks/verify_no_missing_dependencies.sh	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/src/functions/dependency_checks/verify_no_missing_dependencies.sh	2021-11-01 13:09:36.000000000 -0700
@@ -0,0 +1,11 @@
+verify_no_missing_dependencies() {
+  if [[ "${#missing_dependencies[@]}" != "0" || "${#missing_build_dependencies[@]}" != "0" ]]; then
+    error "The following build dependencies are missing:"
+    
+    for i in "${missing_dependencies_no_relations[@]}" "${missing_build_dependencies_no_relations[@]}"; do
+      msg2 "${i}"
+    done
+    
+    exit 1
+  fi
+}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/fakeroot_build.sh ../makedeb/src/functions/fakeroot_build.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/fakeroot_build.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/fakeroot_build.sh	2021-11-01 13:09:36.000000000 -0700
@@ -44,7 +44,7 @@
     # Convert dependencies, then export data to control file.
     check_distro_dependencies
     remove_dependency_description
-    generate_optdepends_fields
+    generate_prefix_fields
     run_dependency_conversion
 
     msg2 "Generating control file..."
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/generate_control.sh ../makedeb/src/functions/generate_control.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/generate_control.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/generate_control.sh	2021-11-01 13:09:36.000000000 -0700
@@ -15,6 +15,7 @@
   export_control "Maintainer:"    "${output_file}"  "${maintainer[@]}"
   export_control "Homepage:"      "${output_file}"  "${url[@]}"
 
+  export_control "Pre-Depends:"   "${output_file}"  "${predepends[@]}"
   export_control "Depends:"       "${output_file}"  "${depends[@]}"
   export_control "Recommends:"    "${output_file}"  "${recommends[@]}"
   export_control "Suggests:"      "${output_file}"  "${suggests[@]}"
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/functions/help.sh ../makedeb/src/functions/help.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/functions/help.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/functions/help.sh	2021-11-01 13:10:03.108662730 -0700
@@ -1,55 +1,51 @@
 help() {
-  if [[ "${target_os}" == "debian" ]]; then
-    echo "makedeb (${makedeb_package_version}) - Create Debian archives from PKGBUILDs"
-    echo "Usage: makedeb [options]"
-    echo
-    echo "makedeb takes PKGBUILD files and builds archives installable with APT"
-    echo
-    echo "Options:"
-    echo "  -A, --ignore-arch    Ignore errors about mismatching architectures"
-    echo "  -d, --no-deps        Skip all dependency checks"
-    echo "  -F, --file, -p       Specify a build file other than 'PKGBUILD'"
-    echo "  -g, --gen-integ      Generate hashes for source files"
-    echo "  -h, --help           Show this help menu and exit"
-    echo "  -H, --field          Append the resulting control file with custom fields"
-    echo "  -i, --install        Automatically install package(s) after building"
-    echo "  -V, --version        Print version information and exit"
-    echo "  -r, --rm-deps        Remove installed dependencies after building"
-    echo "  -s, --sync-deps      Install missing dependencies"
-    echo "  --print-control      Print a generated control file and exit"
-    echo "  --print-srcinfo      Print a generated .SRCINFO file and exit"
-    echo "  --skip-pgp-check     Do not verify source files against PGP signatures"
-    echo "  --verbose            Print (very) detailed logging"
-    echo
-    echo "The following options can modify the behavior of APT:"
-    echo "  --as-deps             Mark built packages as automatically installed (when using '-i')"
-    echo "  --no-confirm          Don't ask before installing packages"
-    echo
-    echo "Report bugs at https://github.com/hwittenborn/makedeb"
+	echo "makedeb ${makedeb_package_version} (${makedeb_release_type}, ${makedeb_release_target})"
+	echo "Usage: makedeb [options]"
+	echo
+	echo "makedeb takes PKGBUILD files and creates archives installable via APT"
+	echo
+  
+	if [[ "${target_os}" == "debian" ]]; then
+		echo "Options:"
+		echo "  -A, --ignore-arch    Ignore errors about mismatching architectures"
+		echo "  -d, --no-deps        Skip all dependency checks"
+		echo "  -F, --file, -p       Specify a build file other than 'PKGBUILD'"
+		echo "  -g, --gen-integ      Generate hashes for source files"
+		echo "  -h, --help           Show this help menu and exit"
+		echo "  -H, --field          Append the resulting control file with custom fields"
+		echo "  -i, --install        Automatically install package(s) after building"
+		echo "  -V, --version        Print version information and exit"
+		echo "  -r, --rm-deps        Remove installed dependencies after building"
+		echo "  -s, --sync-deps      Install missing dependencies"
+		echo "  --print-control      Print a generated control file and exit"
+		echo "  --print-srcinfo      Print a generated .SRCINFO file and exit"
+		echo "  --skip-pgp-check     Do not verify source files against PGP signatures"
+		echo "  --verbose            Print (very) detailed logging"
+		echo
+		echo "The following options can modify the behavior of APT:"
+		echo "  --as-deps             Mark built packages as automatically installed (when using '-i')"
+		echo "  --no-confirm          Don't ask before installing packages"
 
-  elif [[ "${target_os}" == "arch" ]]; then
-    echo "makedeb (${makedeb_package_version}) - Create Debian archives from PKGBUILDs"
-    echo "Usage: makedeb [options]"
-    echo
-    echo "makedeb takes PKGBUILD files and builds archives installable with APT"
-    echo
-    echo "Options:"
-    echo "  -A, --ignore-arch    Ignore errors about mismatching architectures"
-    echo "  -d, --no-deps        Skip all dependency checks"
-    echo "  -F, --file, -p       Specify a build file other than 'PKGBUILD'"
-    echo "  -g, --gen-integ      Generate hashes for source files"
-    echo "  -h, --help           Show this help menu and exit"
-    echo "  -H, --field          Append the resulting control file with custom fields"
-    echo "  -r, --rm-deps        Remove installed dependencies after building"
-    echo "  -V, --version        Print version info and exit"
-    echo "  -s, --sync-deps      Install missing dependencies"
-    echo "  --print-control      Print a generated control file and exit"
-    echo "  --verbose            Print (very) detailed logging"
-    echo "  --print-src-info     Print a generated .SRCINFO file and exit"
-    echo "  --skip-pgp-check     Do not verify source files against PGP signatures"
-    echo
-    echo "  The following options can modify the behavior of pacman:"
-    echo "    --no-confirm       Don't ask before install dependencies"
-    echo "Report bugs at https://github.com/hwittenborn/makedeb"
-  fi
+	elif [[ "${target_os}" == "arch" ]]; then
+		echo "Options:"
+		echo "  -A, --ignore-arch    Ignore errors about mismatching architectures"
+		echo "  -d, --no-deps        Skip all dependency checks"
+		echo "  -F, --file, -p       Specify a build file other than 'PKGBUILD'"
+		echo "  -g, --gen-integ      Generate hashes for source files"
+		echo "  -h, --help           Show this help menu and exit"
+		echo "  -H, --field          Append the resulting control file with custom fields"
+		echo "  -r, --rm-deps        Remove installed dependencies after building"
+		echo "  -V, --version        Print version info and exit"
+		echo "  -s, --sync-deps      Install missing dependencies"
+		echo "  --print-control      Print a generated control file and exit"
+		echo "  --verbose            Print (very) detailed logging"
+		echo "  --print-src-info     Print a generated .SRCINFO file and exit"
+		echo "  --skip-pgp-check     Do not verify source files against PGP signatures"
+		echo
+		echo "  The following options can modify the behavior of pacman:"
+		echo "    --no-confirm       Don't ask before install dependencies"
+	fi
+
+	echo
+	echo "See makedeb(8) for information on available options and links for obtaining support."
 }
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/makedeb.sh ../makedeb/src/makedeb.sh
--- ../makedeb-7.1.2-bugfix1-stable/src/makedeb.sh	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/makedeb.sh	2021-11-01 13:10:03.108662730 -0700
@@ -27,10 +27,19 @@
 declare package_convert="false"
 declare hide_control_output=0
 
-declare makedeb_package_version="git"
-declare makedeb_release_type="git"
-declare target_os="debian"
+declare makedeb_package_version="$${pkgver}"
+declare makedeb_release_type="$${release}"
+declare makedeb_release_target="$${target}"
+
+if [[ "${makedeb_release_target}" == "local" || "${makedeb_release_target}" == "mpr" ]]; then
+	declare target_os="debian"
+elif [[ "${makedeb_release_target}" == "arch" ]]; then
+	declare target_os="arch"
+fi
+
 declare makepkg_package_name="makedeb-makepkg"
+declare MAKEDEB_UTILS_DIR="./utils/" # REMOVE AT PACKAGING
+declare makedeb_utils_dir="${MAKEDEB_UTILS_DIR:-/usr/share/makedeb/utils/}"
 
 cd ./
 declare files="$(ls)"
@@ -86,24 +95,19 @@
 
 source "${FILE}"
 pkgbuild_check
+"${makepkg_package_name}" --format-makedeb --lint -p "${FILE}"
+
 convert_version
 check_architecture
+check_distro_dependencies
+remove_dependency_description
+generate_prefix_fields
 
 # Set pkgbase
 pkgbase="${pkgbase:-${pkgname[0]}}"
 
 # Check if we're printing a generated control file
 if (( "${print_control}" )); then
-  # We want to put all values from 'pkgname' under a single 'Package' field.
-  # This isn't syntactically correct by Debian's policy for binary control
-  # fields, but it prevents us from having to repeat everything twice for
-  # multiple packages.
-
-  check_distro_dependencies
-  remove_dependency_description
-  generate_optdepends_fields
-  run_dependency_conversion
-
   generate_control "./${FILE}" "/dev/stdout"
   exit "${?}"
 fi
@@ -111,35 +115,25 @@
 msg "Making package: ${pkgbase} ${makedeb_package_version} ($(date '+%a %d %b %Y %T %p %Z'))..."
 find "${pkgdir}" &> /dev/null && rm "${pkgdir}" -rf
 
-# Check build dependencies
-if [[ "${target_os}" == "debian" ]]; then
+# Check build dependencies.
+if [[ "${skip_dependency_checks}" == "true" ]]; then
+  warning "Skipping dependency checks."
+else
   msg "Checking build dependencies..."
-
-  check_distro_dependencies
-
-  # Combine depends, makedepends and checkdepends all into depends.
-  dependency_packages=($(echo "${depends[@]}" "${makedepends[@]}" "${checkdepends[@]}" | \
-                         sed 's| |\n|g' | \
-                         sort -u | \
-                         tr -t '\n' ' '))
-
-  depends=("${dependency_packages[@]}")
-
-  remove_dependency_description
-  run_dependency_conversion
+  check_missing_dependencies
 
   if [[ "${install_dependencies}" == "true" ]]; then
-    check_dependencies
-    install_depends
-  elif [[ "${skip_dependency_checks}" != "true" ]]; then
-    check_dependencies
-    verify_dependencies
+    install_missing_dependencies
+  else
+    verify_no_missing_dependencies
   fi
 fi
 
+run_dependency_conversion
+
 msg "Entering fakeroot environment..."
 
-"${makepkg_package_name}" --format-makedeb -p "${FILE}" "${makepkg_args[@]}"
+"${makepkg_package_name}" --format-makedeb --nodeps -p "${FILE}" "${makepkg_args[@]}"
 
 # We keep tihs as a normal string (instead of an array) so that we can access
 # the variable inside of subshells. <https://stackoverflow.com/a/5564589>
@@ -156,8 +150,8 @@
 msg "Finished making: ${pkgbase} ${makedeb_package_version} ($(date '+%a %d %b %Y %T %p %Z'))."
 
 # Remove build dependencies
-if [[ "${target_os}" == "debian" && "${install_dependencies}" == "true" && "${remove_dependencies}" == "true" ]]; then
-  remove_dependencies
+if [[ "${remove_dependencies}" == "true" ]]; then
+  remove_installed_dependencies
 fi
 
 # Install built package
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/PKGBUILD ../makedeb/src/PKGBUILD
--- ../makedeb-7.1.2-bugfix1-stable/src/PKGBUILD	2021-10-21 00:57:18.000000000 -0700
+++ ../makedeb/src/PKGBUILD	1969-12-31 16:00:00.000000000 -0800
@@ -1,57 +0,0 @@
-# This PKGBUILD is used for local testing. Refer to the PKGBUILDs in
-# PKGBUILDs for the sources of MPR, AUR, and APT PKGBUILDs.
-
-# Maintainer: Hunter Wittenborn: <hunter@hunterwittenborn.com>
-
-# Used to obtain folder names for local repository
-_gitdir=$(git rev-parse --show-toplevel)
-_foldername=$(basename "${_gitdir}")
-
-pkgname=makedeb
-pkgver=7.1.2+bugfix1
-pkgrel=1
-pkgdesc="The modern packaging tool for Debian archives (git release)"
-arch=('any')
-license=('GPL3')
-depends=('bash' 'binutils' 'tar' 'file' 'makedeb-makepkg-alpha')
-optdepends=('r!apt')
-url="https://github.com/makedeb/makedeb"
-
-source=("git+file://${_gitdir}")
-sha256sums=('SKIP')
-
-prepare() {
-  # Set package version and release type
-  sed -i "s|makedeb_package_version=.*|makedeb_package_version=${pkgver}-${pkgrel}|" "${_foldername}/src/makedeb.sh"
-
-  # Remove prebuild commands
-  sed -i 's|.*# REMOVE AT PACKAGING||g' "${_foldername}/src/makedeb.sh"
-}
-
-package() {
-  # Create single file for makedeb
-  mkdir -p "${pkgdir}/usr/bin"
-  cd "${srcdir}/${_foldername}"
-
-  # Add bash shebang
-  echo '#!/usr/bin/env bash' > "${pkgdir}/usr/bin/makedeb"
-
-  # Copy functions
-  for i in $(find "src/functions/"); do
-    if ! [[ -d "${i}" ]]; then
-      cat "${i}" >> "${pkgdir}/usr/bin/makedeb"
-    fi
-  done
-
-  cat "src/makedeb.sh" >> "${pkgdir}/usr/bin/makedeb"
-  chmod 555 "${pkgdir}/usr/bin/makedeb"
-
-  # Set up man pages
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/makedeb.8.adoc)" \
-    asciidoctor -b manpage man/makedeb.8.adoc \
-                -o "${pkgdir}/usr/share/man/man8/makedeb.8"
-
-  SOURCE_DATE_EPOCH="$(git log -1 --pretty='%ct' man/pkgbuild.5.adoc)" \
-    asciidoctor -b manpage man/pkgbuild.5.adoc \
-                -o "${pkgdir}/usr/share/man/man5/pkgbuild.5"
-}
diff --color -Nru ../makedeb-7.1.2-bugfix1-stable/src/utils/missing_apt_dependencies.py ../makedeb/src/utils/missing_apt_dependencies.py
--- ../makedeb-7.1.2-bugfix1-stable/src/utils/missing_apt_dependencies.py	1969-12-31 16:00:00.000000000 -0800
+++ ../makedeb/src/utils/missing_apt_dependencies.py	2021-11-01 12:50:36.510749534 -0700
@@ -0,0 +1,69 @@
+#!/usr/bin/env python3
+import apt_pkg
+import sys
+
+apt_pkg.init()
+cache = apt_pkg.Cache(None)
+
+missing_packages = []
+
+for i in sys.argv[1:]:
+    # Build the package relationship string for use by 'apt-get satisfy'.
+    relationship_operator = None
+    
+    for j in ["<=", ">=", "<", ">", "="]:
+        if j in i:
+            relationship_operator = j
+            break
+    
+    if relationship_operator is not None:
+        if relationship_operator in ["<", ">"]:
+            relationship_operator_formatted = j + j
+        else:
+            relationship_operator_formatted = j
+            
+        package = i.split(relationship_operator)
+        pkgname = package[0]
+        pkgver = package[1]
+        package_string = f"{pkgname} ({relationship_operator_formatted} {pkgver})"
+    else:
+        pkgname = i
+        pkgver = None
+        package_string = pkgname
+        
+    # Check the cache for the package.
+    try:
+        cache[pkgname]
+    except KeyError:
+        missing_packages += [pkgname]
+        continue
+    
+    if cache[pkgname].current_state != apt_pkg.CURSTATE_INSTALLED:
+        missing_packages += [package_string]
+    else:
+        if pkgver is None:
+            continue
+        
+        installed_pkgver = cache[pkgname].current_ver.ver_str
+        version_status = apt_pkg.version_compare(installed_pkgver, pkgver)
+        
+        if relationship_operator == "<":
+            if version_status >= 0:
+                missing_packages += [package_string]
+        elif relationship_operator == ">":
+            if version_status <= 0:
+                missing_packages += [package_string]
+        elif relationship_operator == "<=":
+            if version_status > 0:
+                missing_packages += [package_string]
+        elif relationship_operator == ">=":
+            if version_status < 0:
+                missing_packages += [package_string]
+        elif relationship_operator == "=":
+            if version_status != 0:
+                missing_packages += [package_string]
+
+for i in missing_packages:
+    print(i)
+
+exit(0)
